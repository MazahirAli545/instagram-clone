(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{78:function(e,t,n){e.exports=n(98)},85:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r,a,o,i,c,l=n(1),u=n.n(l),s=n(63),f=n.n(s),h=(n(85),n(15)),d=n(0),m=n(2),p=n(6),v=n(4),g=n(3),y=n(8),b=n(59),w=n(50),E=n(67);function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new _(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var O,j,L,_,k,S,N,P,G=function(){var e=Object(d.m)(),t=Object(l.useState)(""),n=Object(v.a)(t,2),r=n[0],a=n[1],o=Object(l.useState)(""),i=Object(v.a)(o,2),c=i[0],s=i[1],f=Object(l.useState)(null),h=Object(v.a)(f,2),m=h[0],g=h[1],O=Object(l.useState)(!1),j=Object(v.a)(O,2),L=j[0],_=j[1],k=function(){var e=Object(p.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),n={Headers:{"Content-Type":"application/json"}},e.next=5,y.a.post("/api/v1/login",{username:r,password:c},n).then(function(e){_(!1),window.location.reload()}).catch(function(e){g(e.response.data.message),_(!1)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){b.a.load("client:auth2",function(){b.a.client.init({clientId:"798293762196-5iqijoh3tcaeen4efmv2q72c5cq4gaab.apps.googleusercontent.com",scope:"email"})})},[]),u.a.createElement(C,null,window.innerWidth>769&&u.a.createElement(F,{src:"/OnboardImage.png"}),u.a.createElement(T,null,u.a.createElement(I,{src:"InstagramHeading.png"}),u.a.createElement(z,{onSubmit:k},u.a.createElement("input",{type:"text",name:"username",id:"username",value:r,className:"form-control",placeholder:"username",autoComplete:"off",onChange:function(e){a(e.target.value)},required:!0}),u.a.createElement("input",{type:"password",name:"password",id:"password",value:c,className:"form-control",placeholder:"password",onChange:function(e){s(e.target.value)},required:!0}),m&&u.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},m),u.a.createElement("button",{className:"btn btn-primary",disabled:!!L},"Login")),u.a.createElement("span",{style:{margin:"1rem",fontSize:"1rem"}},"Or"),u.a.createElement(w.a,{onSuccess:function(t){_(!0);var n=Object(E.a)(t.credential);console.log(n),y.a.post("/api/v1/register/process/s1",{id:n.email,name:n.name,email:n.email,username:n.email}).then(function(t){_(!1),0==t.data.flag?window.location.reload():e("/register",{replace:!0})})},onFailure:function(e){return console.log(e)}})))},C=g.a.div(r||(r=Object(m.a)(["\n  width: 80%;\n  margin: 5rem auto 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (max-width: 769px) {\n    width: 98%;\n  }\n"]))),F=g.a.img(a||(a=Object(m.a)(["\n  width: 37rem;\n  height: 37rem;\n"]))),T=g.a.div(o||(o=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 2rem;\n  width: 30rem;\n  @media (max-width: 769px) {\n    width: 100%;\n    padding: 0.5rem;\n    border: none;\n    input {\n      margin: 2rem 0;\n    }\n  }\n"]))),I=g.a.img(i||(i=Object(m.a)(["\n  width: 14rem;\n  margin-bottom: 2rem;\n  @media (max-width: 769px) {\n    width: 10rem;\n  }\n"]))),z=g.a.form(c||(c=Object(m.a)(["\n  width: 100%;\n  input,\n  button {\n    margin: 0.5rem 0;\n    width: 100%;\n  }\n"]))),A=n(14),M=n(9);function D(){D=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var W=function(){var e=Object(d.m)(),t=Object(M.c)(function(e){return e.user}).user,n=Object(M.b)(),r=Object(l.useState)(!0),a=Object(v.a)(r,2),o=a[0],i=a[1],c=function(){var e=Object(p.a)(D().mark(function e(){return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/logout").then(function(e){window.location.reload()});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,t&&u.a.createElement(Y,null,u.a.createElement(R,null,window.innerWidth>1025?u.a.createElement(U,{src:"/InstagramHeading.png"}):u.a.createElement("img",{src:"/InstaNavLogo.png",style:{width:"2rem",height:"2rem"}}),u.a.createElement(q,{onClick:function(){e("/home")}},u.a.createElement("i",{class:"fa-solid fa-house"}),window.innerWidth>1025&&u.a.createElement("span",null,"Home")),u.a.createElement(q,{onClick:function(){n({type:"TOGGLE_SEARCH_MODAL"})}},u.a.createElement("i",{class:"fa-solid fa-magnifying-glass"}),window.innerWidth>1025&&u.a.createElement("span",null,"Search")),u.a.createElement(q,{onClick:function(){e("/notfound")}},u.a.createElement("i",{class:"fa-brands fa-facebook-messenger"}),window.innerWidth>1025&&u.a.createElement("span",null,"Messages")),u.a.createElement(q,{onClick:function(){n({type:"TOGGLE_NOTIFICATION_MODAL"})}},u.a.createElement("i",{class:"fa-regular fa-heart"}),window.innerWidth>1025&&u.a.createElement("span",null,"Notifications")),u.a.createElement(q,{onClick:function(){n({type:"TOGGLE_CREATE_POST_MODAL"})}},u.a.createElement("i",{class:"fa-regular fa-square-plus"}),window.innerWidth>1025&&u.a.createElement("span",null,"Create")),u.a.createElement(q,{onClick:function(){e("/".concat(t.username))}},u.a.createElement(H,{src:t&&t.avatar.url}),window.innerWidth>1025&&u.a.createElement("span",null,"Profile")),u.a.createElement(B,{className:"navbar-more-options",onClick:function(){i(function(e){return!e})}},u.a.createElement(J,{className:o&&"hidden",onClick:c},u.a.createElement("span",null,"Logout")),u.a.createElement("i",{class:"fa-solid fa-bars"}),window.innerWidth>1025&&u.a.createElement("span",null,"More"))),u.a.createElement(Q,null)))},Y=g.a.div(O||(O=Object(m.a)(["\n  display: flex;\n  position: fixed;\n  background-color: white;\n"]))),R=g.a.div(j||(j=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100vh;\n  padding: 0 2.5rem;\n  font-size: 1.2rem;\n"]))),U=g.a.img(L||(L=Object(m.a)(["\n  width: 9rem;\n  height: 9rem;\n  margin: -2rem 0;\n"]))),q=g.a.div(_||(_=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin: 0.2rem 0;\n  span {\n    margin: 0 1rem;\n  }\n"]))),H=g.a.img(k||(k=Object(m.a)(["\n  border-radius: 50%;\n  height: 2rem;\n  width: 2rem;\n  object-fit: contain;\n  margin-right: -5px;\n"]))),B=Object(g.a)(q)(S||(S=Object(m.a)(["\n  margin-top: 4rem !important;\n"]))),J=g.a.div(N||(N=Object(m.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 1rem;\n  position: absolute;\n  bottom: 5rem;\n"]))),Q=g.a.div(P||(P=Object(m.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100vh;\n"])));var V,K,X,Z,$,ee,te,ne,re,ae,oe,ie,ce,le,ue=function(){return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("img",{src:"/LoaderIcon.png",style:{width:"100px",height:"100px",objectFit:"contain",margin:"20vmax auto"}}))},se=n(104),fe=n(34);function he(){he=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var de,me,pe,ve,ge,ye,be,we,Ee,xe,Oe=function(e){var t=e.post,n=e.showPostModal,r=e.setShowPostModal;se.a.addDefaultLocale(fe);var a=new se.a("en-US"),o=Object(d.m)(),i=Object(M.c)(function(e){return e.user}).user,c=Object(l.useState)(""),s=Object(v.a)(c,2),f=s[0],h=s[1],m=Object(l.useState)(null),g=Object(v.a)(m,2),b=g[0],w=g[1],E=Object(l.useState)(t.usersLiked.length),x=Object(v.a)(E,2),O=x[0],j=x[1],L=Object(l.useState)(t.comments),_=Object(v.a)(L,2),k=_[0],S=_[1],N=Object(l.useState)(!1),P=Object(v.a)(N,2),G=P[0],C=P[1],F=Object(l.useState)(!1),T=Object(v.a)(F,2),I=T[0],z=T[1],D=function(){var e=Object(p.a)(he().mark(function e(){return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||alert("login to interact with a post"),!I){e.next=5;break}return e.abrupt("return");case 5:return z(!0),e.next=8,y.a.post("/api/v1/comment",{id:t._id,body:f}).then(function(e){console.log(e.data.comment),h(""),S(function(t){return[].concat(Object(A.a)(t),[e.data.comment])}),z(!1)}).catch(function(e){return console.log(e.message)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(he().mark(function e(){return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||alert("login to interact with a post"),!I){e.next=5;break}return e.abrupt("return");case 5:return z(!0),e.next=8,y.a.post("/api/v1/like",{id:t._id}).then(function(e){w(function(e){return!e}),j(b?function(e){return e-1}:function(e){return e+1}),z(!1)}).catch(function(e){return console.log(e.message)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(he().mark(function e(){return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/v1/post/".concat(t._id)).then(function(e){!0===e.data.response&&(console.log(),r(!1),window.history.pushState(null,null,"/home"),window.location.reload())}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(he().mark(function e(n){return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/comment/delete",{postId:t._id,commentId:n}).then(function(e){return S(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){w(!!i&&t.usersLiked.includes(i._id))},[i]),u.a.createElement(u.a.Fragment,null,t&&u.a.createElement(je,{showPostModal:n},u.a.createElement(Le,{className:"fa-solid fa-xmark",onClick:function(){r(!1),o(-1),document.querySelector("body").style.overflow="auto"}}),u.a.createElement("div",{className:"black-overlay"}),u.a.createElement(_e,null,u.a.createElement(Ae,{moreOption:G,onClick:function(){return C(function(e){return!e})}},u.a.createElement("i",{class:"fa-solid fa-ellipsis"}),i&&t.author._id===i._id&&u.a.createElement("span",{onClick:Y},"Delete post")),u.a.createElement(ke,null,u.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},u.a.createElement("div",{class:"carousel-inner"},t.images.map(function(e,n){return u.a.createElement("div",{class:0===n?"carousel-item active":"carousel-item"},u.a.createElement("img",{src:e.url,alt:"slide ".concat(n),className:"".concat(1===t.images.length?"crop":"non-crop")}))})),t.images.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},u.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Previous")),u.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},u.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Next"))))),u.a.createElement(Se,null,u.a.createElement(Ne,null,u.a.createElement("img",{src:t.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",{onClick:function(){return o("/".concat(t.author.username))}},t.author.username)),u.a.createElement("hr",null),u.a.createElement(Pe,null,u.a.createElement(Ge,null,u.a.createElement("div",null,u.a.createElement("img",{src:t.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",null,t.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},t.caption))),k&&k.map(function(e){return u.a.createElement(Ge,null,u.a.createElement("div",null,u.a.createElement("img",{src:e.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",null,e.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},e.body)),i._id===e.author._id&&u.a.createElement("div",null,u.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){return R(e._id)}})))})),u.a.createElement(Ce,null,u.a.createElement("hr",null),u.a.createElement(Fe,null,u.a.createElement(Te,null,u.a.createElement("div",null,u.a.createElement("img",{src:"/".concat(b,"Heart.png"),onClick:W}),u.a.createElement("img",{src:"/Comment.png"}),u.a.createElement("img",{src:"/Send.png"})),u.a.createElement("div",null,u.a.createElement("img",{src:"/Save.png"}))),u.a.createElement("span",null,O," likes"),u.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.7rem",color:"grey"}},a.format(Date.now()-(new Date-t.createdAt)).toUpperCase())),u.a.createElement("hr",null),u.a.createElement(Ie,null,u.a.createElement(ze,{rows:1,cols:55,placeholder:"Add a comment...",value:f,onChange:function(e){h(e.target.value)}}),u.a.createElement("span",{className:"text-primary",onClick:D},"Post")))))))},je=g.a.div(V||(V=Object(m.a)(["\n  width: 100%;\n  position: fixed;\n  z-index: 1000;\n  display: ",";\n  .black-overlay {\n    height: 100vh;\n    width: 100vw;\n    background-color: black;\n    opacity: 0.4;\n  }\n"])),function(e){return e.showPostModal?"flex":"none"}),Le=g.a.i(K||(K=Object(m.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  font-size: 2rem;\n  cursor: pointer;\n  z-index: 1000;\n"]))),_e=g.a.div(X||(X=Object(m.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 80rem;\n  height: 40rem;\n  margin: auto;\n  transition: 0.5s;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  display: flex;\n  flex: 1;\n"]))),ke=g.a.div(Z||(Z=Object(m.a)(["\n  flex: 0.5;\n  img {\n    width: 100%;\n    height: 40rem;\n    object-fit: cover;\n  }\n"]))),Se=g.a.div($||($=Object(m.a)(["\n  flex: 0.5;\n  flex-direction: column;\n  position: relative;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n  }\n  .avatar-img {\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n  }\n"]))),Ne=g.a.div(ee||(ee=Object(m.a)(["\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),Pe=g.a.div(te||(te=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 24rem;\n  padding: 0.8rem;\n  overflow-y: scroll;\n  img {\n    margin-right: 5px;\n  }\n  span {\n    margin: 0 5px;\n    font-size: 0.9rem;\n  }\n"]))),Ge=g.a.div(ne||(ne=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0.5rem 0;\n  justify-content: space-between;\n"]))),Ce=g.a.div(re||(re=Object(m.a)(["\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n"]))),Fe=g.a.div(ae||(ae=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  span {\n    font-size: 1rem;\n    margin-bottom: 0.2rem;\n  }\n"]))),Te=g.a.div(oe||(oe=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 0 0.2rem;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n"]))),Ie=g.a.div(ie||(ie=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n"]))),ze=g.a.textarea(ce||(ce=Object(m.a)(["\n  border: none;\n  outline: none;\n  resize: none;\n  width: 90%;\n  overflow: hidden;\n"]))),Ae=g.a.div(le||(le=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 1000;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"});function Me(){Me=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var De,We=function(e){var t=e.post;se.a.addDefaultLocale(fe);var n=new se.a("en-US"),r=Object(d.m)(),a=Object(M.c)(function(e){return e.user}).user,o=Object(l.useState)(!1),i=Object(v.a)(o,2),c=i[0],s=i[1],f=Object(l.useState)(""),h=Object(v.a)(f,2),m=h[0],g=h[1],b=Object(l.useState)(null),w=Object(v.a)(b,2),E=w[0],x=w[1],O=Object(l.useState)(t.comments.length),j=Object(v.a)(O,2),L=j[0],_=j[1],k=Object(l.useState)(t.usersLiked.length),S=Object(v.a)(k,2),N=S[0],P=S[1],G=Object(l.useState)(!1),C=Object(v.a)(G,2),F=C[0],T=C[1],I=Object(l.useState)(!1),z=Object(v.a)(I,2),A=z[0],D=z[1],W=function(){var e=Object(p.a)(Me().mark(function e(){return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/comment",{id:t._id,body:m}).then(function(e){g(""),_(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(Me().mark(function e(){return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=4;break}return e.abrupt("return");case 4:return D(!0),e.next=7,y.a.post("/api/v1/like",{id:t._id}).then(function(e){x(function(e){return!e}),P(E?function(e){return e-1}:function(e){return e+1}),D(!1)}).catch(function(e){console.log(e.message),D(!1)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(Me().mark(function e(){return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/v1/post/".concat(t._id)).then(function(e){!0===e.data.response&&window.location.reload()}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){window.history.pushState(null,null,"/p/".concat(t._id)),s(!0),document.querySelector("body").style.overflow="hidden"};return Object(l.useEffect)(function(){a&&x(t.usersLiked.includes(a._id))},[a]),u.a.createElement(u.a.Fragment,null,a&&null!==E?u.a.createElement(u.a.Fragment,null,u.a.createElement(Oe,{post:t,showPostModal:c,setShowPostModal:s}),u.a.createElement(Ye,null,u.a.createElement(Ke,{moreOption:F,onClick:function(){return T(function(e){return!e})}},u.a.createElement("i",{class:"fa-solid fa-ellipsis"}),t.author._id===a._id&&u.a.createElement("span",{onClick:R},"Delete post")),u.a.createElement(Re,null,u.a.createElement("img",{src:t.author.avatar.url}),u.a.createElement("span",{onClick:function(){return r("/".concat(t.author.username))}},t.author.username)),u.a.createElement("hr",null),u.a.createElement(Ue,{imagesLength:t.images.length,onDoubleClick:Y},u.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},u.a.createElement("div",{class:"carousel-inner"},t.images.map(function(e,t){return u.a.createElement("div",{class:"carousel-item ".concat(0===t?"active":"")},u.a.createElement("img",{src:e.url,alt:"slide ".concat(t)}))})),t.images.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},u.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Previous")),u.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},u.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Next"))))),u.a.createElement("hr",null),u.a.createElement(qe,null,u.a.createElement(He,null,u.a.createElement("div",null,u.a.createElement("img",{src:"".concat(E,"Heart.png"),onClick:Y}),u.a.createElement("img",{src:"Comment.png",onClick:window.innerWidth>769?U:function(){r("/p/".concat(t._id,"/comments"))}}),u.a.createElement("img",{src:"Send.png"})),u.a.createElement("div",null,u.a.createElement("img",{src:"Save.png"}))),u.a.createElement("span",null,N," likes"),u.a.createElement(Be,null,u.a.createElement("span",null,t.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},t.caption)),u.a.createElement(Je,{onClick:window.innerWidth>769?U:function(){r("/p/".concat(t._id,"/comments"))}},L>0?"View all ".concat(L," comments"):"0 comments"),u.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.6rem",color:"grey"}},n.format(Date.now()-(new Date-t.createdAt)).toUpperCase())),window.innerWidth>769&&u.a.createElement(u.a.Fragment,null,u.a.createElement("hr",null),u.a.createElement(Qe,null,u.a.createElement(Ve,{rows:1,cols:55,placeholder:"Add a comment...",value:m,onChange:function(e){g(e.target.value)}}),u.a.createElement("span",{className:"text-primary",onClick:W},"Post"))))):u.a.createElement(ue,null))},Ye=g.a.div(de||(de=Object(m.a)(["\n  width: 30rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  margin: 1rem 0;\n  position: relative;\n  @media (max-width: 426px) {\n    width: 100%;\n    border: none;\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0;\n  }\n"]))),Re=g.a.div(me||(me=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n    cursor: pointer;\n  }\n"]))),Ue=g.a.div(pe||(pe=Object(m.a)(["\n  img {\n    width: 30rem;\n    height: 30rem;\n    object-fit: cover;\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 100%;\n      height: 23rem;\n      object-fit: cover;\n    }\n  }\n"]))),qe=g.a.div(ve||(ve=Object(m.a)(["\n  padding: 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n  span {\n    margin: 0.2rem 0.5rem;\n    font-weight: 500;\n  }\n  @media (max-width: 426px) {\n    font-size: 0.9rem;\n  }\n"]))),He=g.a.div(ge||(ge=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 1.2rem;\n      height: 1.2rem;\n    }\n  }\n"]))),Be=g.a.div(ye||(ye=Object(m.a)(["\n  display: flex;\n  margin: 0 5px 5px;\n  span {\n    margin: 0 3px;\n    font-size: 0.9rem;\n  }\n  @media (max-width: 426px) {\n    span {\n      font-size: 0.85rem;\n    }\n  }\n"]))),Je=g.a.span(be||(be=Object(m.a)(["\n  font-weight: 400 !important;\n  color: grey;\n  font-size: 0.9rem;\n  cursor: pointer;\n  @media (max-width: 426px) {\n    font-size: 0.8rem;\n  }\n"]))),Qe=g.a.div(we||(we=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),Ve=g.a.textarea(Ee||(Ee=Object(m.a)(["\n  resize: none;\n  border: none;\n  outline: none;\n  font-size: 0.9rem;\n  overflow-y: auto;\n"]))),Ke=g.a.div(xe||(xe=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 500;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    right: 0.5rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"});function Xe(){Xe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Ze,$e=function(){var e=Object(l.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(!0),o=Object(v.a)(a,2),i=(o[0],o[1]),c=(Object(M.c)(function(e){return e.user}).user,function(){var e=Object(p.a)(Xe().mark(function e(){return Xe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/feed").then(function(e){r(e.data.posts),i(!1)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());return Object(l.useEffect)(function(){c()},[]),u.a.createElement(u.a.Fragment,null,n?u.a.createElement(u.a.Fragment,null,n.length>0?u.a.createElement(u.a.Fragment,null,n&&u.a.createElement(et,null,n.map(function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(We,{post:e}))}))):u.a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"center",marginTop:"10rem"}},u.a.createElement("span",{style:{fontSize:"1.5rem"}},"Welcome to Instagram"),u.a.createElement("span",null,"When you follow people, you'll see the photos that they post here."))):u.a.createElement(ue,null))},et=g.a.div(De||(De=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: hidden;\n  position: relative;\n  align-items: center;\n"])));var tt,nt,rt,at=function(){var e=Object(M.c)(function(e){return e.user}).user,t=Object(d.m)();return u.a.createElement(u.a.Fragment,null,e&&u.a.createElement(u.a.Fragment,null,u.a.createElement("hr",null),u.a.createElement(ot,null,u.a.createElement("i",{class:"fa-solid fa-house",onClick:function(){return t("/home")}}),u.a.createElement("i",{class:"fa-solid fa-magnifying-glass",onClick:function(){t("/search")}}),u.a.createElement("i",{class:"fa-brands fa-facebook-messenger",onClick:function(){return t("/notfound")}}),u.a.createElement("img",{src:e.avatar.url,onClick:function(){return t("/".concat(e.username))}}))))},ot=g.a.div(Ze||(Ze=Object(m.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  i {\n    font-size: 1.4rem;\n  }\n  img {\n    width: 1.8rem;\n    height: 1.8rem;\n    border-radius: 50%;\n  }\n"])));function it(){it=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var ct,lt,ut,st,ft,ht,dt,mt=function(e){var t=e.images,n=e.clearImage,r=Object(M.c)(function(e){return e.user}).user,a=Object(M.c)(function(e){return e.modal}).mobilePostModal,o=Object(M.b)(),i=Object(l.useState)(""),c=Object(v.a)(i,2),s=c[0],f=c[1],h=Object(l.useState)(!1),d=Object(v.a)(h,2),m=d[0],g=d[1],b=function(){var e=Object(p.a)(it().mark(function e(){return it().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=4;break}return e.abrupt("return");case 4:return g(!0),e.next=7,y.a.post("/api/v1/create",{caption:s,images:t},{headers:{"Content-Type":"application/json"}}).then(function(e){f(""),n(),o({type:"TOGGLE_MOBILE_POST_MODAL"}),g(!1),window.location.reload()}).catch(function(e){return console.log(e)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(pt,{mobilePostModal:a},u.a.createElement(vt,null,u.a.createElement("i",{class:"fa-solid fa-xmark",onClick:function(){n(),o({type:"TOGGLE_MOBILE_POST_MODAL"}),document.querySelector("body").style.overflow="auto"}}),u.a.createElement("span",null,"New Post"),u.a.createElement("button",{className:"btn btn-primary btn-sm",disabled:!!m},u.a.createElement("span",{onClick:b},"Share"))),u.a.createElement("hr",null),u.a.createElement(gt,null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("img",{src:r.avatar.url,className:"avatar-img"}),u.a.createElement("textarea",{value:s,onChange:function(e){return f(e.target.value)},placeholder:"Write a caption..."})),u.a.createElement("img",{src:t[0],className:"post-img"}))))},pt=g.a.div(tt||(tt=Object(m.a)(["\n  background-color: white;\n  height: 100vh;\n  width: 100vw;\n  z-index: 10000;\n  position: absolute;\n  display: ",";\n  flex-direction: column;\n"])),function(e){return e.mobilePostModal?"flex":"none"}),vt=g.a.div(nt||(nt=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  font-weight: 500;\n  i {\n    font-size: 1.5rem;\n    margin-right: 1rem;\n  }\n"]))),gt=g.a.div(rt||(rt=Object(m.a)(["\n  display: flex;\n  padding: 1rem;\n  justify-content: space-between;\n  textarea {\n    border: none;\n    outline: none;\n    margin-left: 0.5rem;\n    font-size: 0.85rem;\n  }\n  .avatar-img {\n    height: 2rem;\n    width: 2rem;\n    border-radius: 50%;\n  }\n  .post-img {\n    height: 3rem;\n    width: 3rem;\n  }\n"])));var yt=function(){var e=Object(d.m)(),t=Object(M.b)(),n=(Object(M.c)(function(e){return e.user}).userLoading,Object(l.useState)([])),r=Object(v.a)(n,2),a=r[0],o=r[1];return window.innerWidth>768?u.a.createElement(bt,null,u.a.createElement(wt,null,u.a.createElement(W,null)),u.a.createElement(Et,null,u.a.createElement($e,null)),u.a.createElement(xt,null)):u.a.createElement(Ot,null,u.a.createElement(mt,{images:a,clearImage:function(){return o([])}}),u.a.createElement(jt,null,u.a.createElement("img",{src:"/InstagramHeading.png"}),u.a.createElement("div",null,u.a.createElement("label",{htmlFor:"postInput"},u.a.createElement("i",{class:"fa-regular fa-square-plus"})),u.a.createElement("input",{type:"file",id:"postInput",onChange:function(e){var n=new FileReader;n.onload=function(){2===n.readyState&&o(function(e){return[].concat(Object(A.a)(e),[n.result])})},n.readAsDataURL(e.target.files[0]),t({type:"TOGGLE_MOBILE_POST_MODAL"}),document.querySelector("body").style.overflow="hidden"},accept:"image/*",style:{display:"none"}}),u.a.createElement("i",{class:"fa-regular fa-heart",onClick:function(){return e("/notifications")}}))),u.a.createElement("hr",null),u.a.createElement($e,null),u.a.createElement(Lt,null,u.a.createElement(at,null)))},bt=g.a.div(ct||(ct=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex: 1;\n"]))),wt=g.a.div(lt||(lt=Object(m.a)(["\n  flex: 0.3;\n"]))),Et=g.a.div(ut||(ut=Object(m.a)(["\n  flex: 0.4;\n"]))),xt=g.a.div(st||(st=Object(m.a)(["\n  flex: 0.3;\n"]))),Ot=g.a.div(ft||(ft=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),jt=g.a.div(ht||(ht=Object(m.a)(["\n  padding: 0.7rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1000;\n  img {\n    width: 7rem;\n  }\n  i {\n    font-size: 1.5rem;\n    margin-left: 1rem;\n  }\n"]))),Lt=g.a.div(dt||(dt=Object(m.a)(["\n  position: fixed;\n  width: 100%;\n  bottom: 0;\n  z-index: 1000;\n"])));var _t=function(e){var t=e.children,n=Object(M.c)(function(e){return e.user}),r=n.user;return n.userLoading||r?t:u.a.createElement(d.a,{replace:!0,to:"/"})},kt=n(42),St=n(74),Nt=n(73),Pt=n(22),Gt=Object(kt.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USER_REQ":return Object(Pt.a)({},e,{userLoading:!0,isAuthenticated:!1});case"LOAD_USER_SUCCESS":return Object(Pt.a)({},e,{userLoading:!1,isAuthenticated:!0,user:t.payload});case"LOAD_USER_FAIL":return Object(Pt.a)({},e,{userLoading:!1,isAuthenticated:!1,error:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{createPostModal:!1,searchModal:!1,notificationModal:!1,mobilePostModal:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_CREATE_POST_MODAL":return Object(Pt.a)({},e,{createPostModal:!e.createPostModal});case"TOGGLE_SEARCH_MODAL":return Object(Pt.a)({},e,{searchModal:!e.searchModal});case"TOGGLE_NOTIFICATION_MODAL":return Object(Pt.a)({},e,{notificationModal:!e.notificationModal});case"TOGGLE_MOBILE_POST_MODAL":return Object(Pt.a)({},e,{mobilePostModal:!e.mobilePostModal});default:return e}}}),Ct=[St.a],Ft=Object(kt.createStore)(Gt,Object(Nt.composeWithDevTools)(kt.applyMiddleware.apply(void 0,Ct))),Tt=n(39),It=n.n(Tt);function zt(){zt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var At,Mt,Dt,Wt,Yt,Rt=function(){return function(){var e=Object(p.a)(zt().mark(function e(t){var n,r;return zt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQ"}),e.next=4,y.a.get("/api/v1/loadUser");case 4:n=e.sent,r=n.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()};function Ut(){Ut=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var qt=function(){Object(d.m)();var e=Object(l.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(""),o=Object(v.a)(a,2),i=o[0],c=o[1],s=Object(l.useState)(""),f=Object(v.a)(s,2),h=f[0],m=f[1],g=Object(l.useState)(""),b=Object(v.a)(g,2),w=b[0],E=b[1],x=Object(l.useState)(null),O=Object(v.a)(x,2),j=O[0],L=O[1],_=Object(l.useState)(null),k=Object(v.a)(_,2),S=k[0],N=k[1],P=Object(l.useState)(null),G=Object(v.a)(P,2),C=G[0],F=G[1],T=function(){var e=Object(p.a)(Ut().mark(function e(t){var n;return Ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),n={Headers:{"Content-Type":"application/json"}},e.next=5,y.a.post("/api/v1/register/process/s3",{name:i,username:h,password:w},n).then(function(e){N(!1),window.location.reload()}).catch(function(e){N(!1),L(e)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(Ut().mark(function e(){return Ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,y.a.get("/api/v1/register/process/s2").then(function(e){r(e.data.user),F(!1)}).catch(function(e){console.log(e.message)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){n||It.a.get("token")||I()},[n]),u.a.createElement(u.a.Fragment,null,C||S?u.a.createElement(ue,null):u.a.createElement(u.a.Fragment,null,n&&u.a.createElement(Ht,null,window.innerWidth>769&&u.a.createElement(Bt,{src:"OnboardImage.png"}),u.a.createElement(Jt,null,u.a.createElement(Qt,{src:"InstagramHeading.png"}),u.a.createElement(Vt,{onSubmit:T},u.a.createElement("input",{type:"text",name:"name",id:"name",className:"form-control",placeholder:"name",value:i,autoComplete:"off",onChange:function(e){c(e.target.value)}}),u.a.createElement("input",{type:"text",name:"email",id:"email",className:"form-control",placeholder:"email",value:n.email,disabled:!0,autoComplete:"off"}),u.a.createElement("input",{type:"text",name:"username",id:"username",className:"form-control onboarding-input",placeholder:"username",autoComplete:"off",required:!0,value:h,onChange:function(e){m(e.target.value)}}),j&&u.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},"username has already been taken"),u.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control onboarding-input",placeholder:"password",required:!0,value:w,onChange:function(e){E(e.target.value)}}),u.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Create account"))))))},Ht=g.a.div(At||(At=Object(m.a)(["\n  width: 80%;\n  margin: 5rem auto 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (max-width: 769px) {\n    width: 98%;\n  }\n"]))),Bt=g.a.img(Mt||(Mt=Object(m.a)(["\n  width: 37rem;\n  height: 37rem;\n"]))),Jt=g.a.div(Dt||(Dt=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  padding: 2rem;\n  width: 30rem;\n  @media (max-width: 769px) {\n    width: 100%;\n    padding: 0.5rem;\n    border: none;\n    input {\n      margin: 2rem 0;\n    }\n  }\n"]))),Qt=g.a.img(Wt||(Wt=Object(m.a)(["\n  width: 14rem;\n  margin-bottom: 2rem;\n  @media (max-width: 769px) {\n    width: 10rem;\n  }\n"]))),Vt=g.a.form(Yt||(Yt=Object(m.a)(["\n  width: 100%;\n  input,\n  button {\n    margin: 0.5rem 0;\n    width: 100%;\n  }\n"])));var Kt=function(e){var t=e.children,n=Object(M.c)(function(e){return e.user}),r=n.isAuthenticated;return!n.userLoading&&r?u.a.createElement(d.a,{replace:!0,to:"/home"}):t};var Xt,Zt,$t,en=function(e){var t=e.children,n=Object(M.c)(function(e){return e.user}),r=n.isAuthenticated,a=n.userLoading;return It.a.get("tempToken")?!a&&r?u.a.createElement(d.a,{replace:!0,to:"/home"}):t:u.a.createElement(d.a,{replace:!0,to:"/"})};var tn,nn,rn,an,on,cn,ln,un,sn,fn,hn,dn,mn,pn,vn=function(e){var t=e.users,n=e.showModal,r=e.toggleModal,a=e.isFollowers,o=Object(M.c)(function(e){return e.user}).user,i=Object(d.m)();return u.a.createElement(gn,{showModal:n},u.a.createElement(yn,null,u.a.createElement("i",{class:"fa-solid fa-xmark",onClick:r}),u.a.createElement("span",null,a?"Followers":"Following")),u.a.createElement("hr",null),u.a.createElement(bn,null,t.map(function(e){return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){i("/".concat(e.username)),r()}},e.username)),o._id!==e._id&&u.a.createElement("button",{className:o.following.includes(e._id)?"btn btn-outline-dark btn-sm":"btn btn-primary btn-sm"},o.following.includes(e._id)?"Following":"Follow"))})))},gn=g.a.div(Xt||(Xt=Object(m.a)(["\n  display: ",";\n  flex-direction: column;\n  margin: auto;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  z-index: 1000;\n  width: 30rem;\n  height: 30rem;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 1rem;\n  transition: 0.3s;\n"])),function(e){return e.showModal?"flex":"none"}),yn=g.a.div(Zt||(Zt=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n  font-weight: 500;\n  position: relative;\n  i {\n    position: absolute;\n    right: 1rem;\n    font-size: 1.5rem;\n    cursor: pointer;\n  }\n"]))),bn=g.a.div($t||($t=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  padding: 1rem;\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 0 0.5rem;\n    align-items: center;\n    img {\n      width: 2rem;\n      height: 2rem;\n      border-radius: 50%;\n      margin-right: 1rem;\n    }\n  }\n"])));function wn(){wn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var En,xn,On,jn,Ln,_n,kn,Sn,Nn,Pn,Gn,Cn,Fn,Tn,In=function(){var e=Object(d.m)(),t=Object(d.o)().username,n=Object(M.c)(function(e){return e.user}).user,r=Object(l.useState)(null),a=Object(v.a)(r,2),o=a[0],i=a[1],c=Object(l.useState)(!0),s=Object(v.a)(c,2),f=s[0],h=s[1],m=Object(l.useState)([]),g=Object(v.a)(m,2),b=g[0],w=g[1],E=Object(l.useState)(null),x=Object(v.a)(E,2),O=x[0],j=x[1],L=Object(l.useState)(null),_=Object(v.a)(L,2),k=_[0],S=_[1],N=Object(l.useState)(!1),P=Object(v.a)(N,2),G=P[0],C=P[1],F=Object(l.useState)(null),T=Object(v.a)(F,2),I=T[0],z=T[1],A=Object(l.useState)(null),D=Object(v.a)(A,2),Y=D[0],R=D[1],U=Object(l.useState)(!1),q=Object(v.a)(U,2),H=q[0],B=q[1],J=Object(l.useState)(!0),Q=Object(v.a)(J,2),V=Q[0],K=Q[1],X=function(){var n=Object(p.a)(wn().mark(function n(){return wn().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,y.a.get("/api/v1/user/".concat(t)).then(function(e){i(e.data.user),z(e.data.user.followers.length),R(e.data.user.following.length),h(!1)}).catch(function(t){window.alert("user does not exist"),e(-1,{replace:!0})});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(wn().mark(function e(){return wn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/post/user/".concat(t)).then(function(e){w(e.data.posts)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(wn().mark(function e(){return wn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/follower/add",{searchedUser:o}).then(function(e){S(!0),z(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(wn().mark(function e(){return wn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/follower/remove",{searchedUser:o}).then(function(e){S(!1),z(function(e){return e-1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),te=function(){B(function(e){return!e})},ne=function(){var t=Object(p.a)(wn().mark(function t(){return wn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("/api/v1/chat",{secondUser:o._id}).then(function(t){e("/direct/".concat(t.data.chat._id),{replce:!0})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)(function(){o&&o.username===t||(X(),Z()),n&&o&&n.following.includes(o._id)?S(!0):S(!1)},[o,t]),u.a.createElement(u.a.Fragment,null,!f&&o&&b?u.a.createElement(u.a.Fragment,null,o&&u.a.createElement(zn,null,O&&u.a.createElement(Oe,{post:O,showPostModal:G,setShowPostModal:C}),n&&u.a.createElement(vn,{users:V?o.followers:o.following,showModal:H,toggleModal:te,isFollowers:V}),u.a.createElement(An,null,u.a.createElement(W,null)),u.a.createElement(Mn,null,u.a.createElement(Dn,null,u.a.createElement(Wn,null,u.a.createElement("img",{src:o.avatar.url})),u.a.createElement(Yn,null,u.a.createElement(Rn,null,u.a.createElement(Bn,null,o.username),n&&u.a.createElement(u.a.Fragment,null,n.username===o.username?u.a.createElement(Un,{onClick:function(){return e("/accounts/edit")}},"Edit profile"):u.a.createElement("button",{className:k?"btn btn-outline-dark":"btn btn-primary",onClick:k?ee:$},k?"Following":"Follow"),n.username!==o.username&&u.a.createElement("button",{className:"btn btn-outline-dark",style:{marginLeft:"0.5rem"},onClick:ne},"Message"))),u.a.createElement(qn,null,u.a.createElement("span",null,u.a.createElement("b",null,o.posts.length)," posts"),u.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){K(!0),te()}},u.a.createElement("b",null,I)," followers"),u.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){K(!1),te()}},u.a.createElement("b",null,Y)," following")),u.a.createElement(Hn,null,u.a.createElement("h5",null,o.name),u.a.createElement("span",null,o.bio)))),u.a.createElement("hr",{style:{width:"70%",margin:"2rem 0"}}),u.a.createElement(Jn,null,u.a.createElement("i",{class:"fa-solid fa-table-cells"})," POSTS"),u.a.createElement(Qn,{postsLength:b.length},b&&b.length<1?u.a.createElement("h3",{style:{marginTop:"5vh"}},"No posts yet"):u.a.createElement(u.a.Fragment,null,b&&b.map(function(e){return u.a.createElement(Vn,{onClick:function(){!function(e){window.history.pushState(null,null,"/p/".concat(e._id)),j(e),document.querySelector("body").style.overflow="hidden"}(e),C(!0)}},u.a.createElement("div",{className:"hoverPostCard"},u.a.createElement("div",{style:{margin:"auto"}},u.a.createElement("span",null,u.a.createElement("i",{class:"fa-solid fa-heart"})," ",e.usersLiked.length),u.a.createElement("span",null,u.a.createElement("i",{class:"fa-solid fa-comment"})," ",e.comments.length))),u.a.createElement("img",{src:e.images[0].url,className:"postCard-img"}))})))))):u.a.createElement(ue,null))},zn=g.a.div(tn||(tn=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  position: relative;\n"]))),An=g.a.div(nn||(nn=Object(m.a)(["\n  flex: 0.2;\n"]))),Mn=g.a.div(rn||(rn=Object(m.a)(["\n  display: flex;\n  flex: 0.8;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem auto 0;\n"]))),Dn=g.a.div(an||(an=Object(m.a)(["\n  display: flex;\n  width: 38rem;\n  flex: 1;\n"]))),Wn=g.a.div(on||(on=Object(m.a)(["\n  flex: 0.4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 5rem;\n  img {\n    border-radius: 50%;\n    width: 10rem;\n    height: 10rem;\n  }\n"]))),Yn=g.a.div(cn||(cn=Object(m.a)(["\n  display: flex;\n  flex: 0.6;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Rn=g.a.div(ln||(ln=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  span {\n    margin-right: 2rem;\n  }\n"]))),Un=g.a.button(un||(un=Object(m.a)(["\n  width: 7rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  background: none;\n"]))),qn=g.a.div(sn||(sn=Object(m.a)(["\n  display: flex;\n  margin: 1rem 0;\n  span {\n    margin-right: 2rem;\n  }\n"]))),Hn=g.a.div(fn||(fn=Object(m.a)(["\n  width: 25rem;\n  h5 {\n    font-size: 1.1rem;\n  }\n  span {\n    font-size: 0.9rem;\n  }\n"]))),Bn=g.a.span(hn||(hn=Object(m.a)(["\n  font-size: 1.6rem;\n  font-weight: 300;\n"]))),Jn=g.a.span(dn||(dn=Object(m.a)(["\n  border-top: 1px solid;\n  margin: -2rem 0 1rem;\n  padding-top: 1rem;\n"]))),Qn=g.a.div(mn||(mn=Object(m.a)(["\n  display: ",";\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n"])),function(e){return e.postsLength>0?"grid":"flex"}),Vn=g.a.div(pn||(pn=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  .postCard-img {\n    width: 15rem;\n    height: 15rem;\n    object-fit: cover;\n  }\n  .hoverPostCard {\n    width: 15rem;\n    height: 15rem;\n    position: absolute;\n    color: white;\n    font-size: 1.4rem;\n    display: none;\n    margin: 0;\n    background-color: rgba(0, 0, 0, 0.3);\n    span {\n      margin: 0 1rem;\n    }\n  }\n\n  :hover {\n    .hoverPostCard {\n      display: flex;\n    }\n  }\n"])));function Kn(){Kn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Xn,Zn,$n,er,tr,nr,rr,ar,or,ir,cr,lr,ur,sr=g.a.div(En||(En=Object(m.a)(["\n  width: 95vw;\n  position: fixed;\n  z-index: 100;\n"]))),fr=g.a.i(xn||(xn=Object(m.a)(["\n  position: absolute;\n  top: 2rem;\n  right: 0.5rem;\n  font-size: 2rem;\n  cursor: pointer;\n"]))),hr=g.a.div(On||(On=Object(m.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 80rem;\n  height: 40rem;\n  margin: auto;\n  transition: 0.5s;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  position: fixed;\n  display: flex;\n  flex: 1;\n"]))),dr=g.a.div(jn||(jn=Object(m.a)(["\n  flex: 0.5;\n  img {\n    width: 100%;\n    height: 40rem;\n    object-fit: cover;\n  }\n"]))),mr=g.a.div(Ln||(Ln=Object(m.a)(["\n  flex: 0.5;\n  flex-direction: column;\n  position: relative;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n  }\n  .avatar-img {\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n  }\n"]))),pr=g.a.div(_n||(_n=Object(m.a)(["\n  padding: 0.8rem;\n  span {\n    cursor: pointer;\n  }\n"]))),vr=g.a.div(kn||(kn=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 24rem;\n  padding: 0.8rem;\n  overflow-y: scroll;\n  img {\n    margin-right: 5px;\n  }\n  span {\n    margin: 0 5px;\n    font-size: 0.9rem;\n  }\n"]))),gr=g.a.div(Sn||(Sn=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0.5rem 0;\n"]))),yr=g.a.div(Nn||(Nn=Object(m.a)(["\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n"]))),br=g.a.div(Pn||(Pn=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  span {\n    font-size: 1rem;\n    margin-bottom: 0.2rem;\n  }\n"]))),wr=g.a.div(Gn||(Gn=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 0 0.2rem;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n"]))),Er=g.a.div(Cn||(Cn=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n"]))),xr=g.a.textarea(Fn||(Fn=Object(m.a)(["\n  border: none;\n  outline: none;\n  resize: none;\n  width: 90%;\n  overflow: hidden;\n"]))),Or=g.a.div(Tn||(Tn=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 1000;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"}),jr=function(){se.a.addDefaultLocale(fe);var e=new se.a("en-US"),t=Object(d.m)(),n=Object(d.o)().postId,r=Object(M.c)(function(e){return e.user}).user,a=Object(l.useState)(null),o=Object(v.a)(a,2),i=o[0],c=o[1],s=Object(l.useState)(""),f=Object(v.a)(s,2),h=f[0],m=f[1],g=Object(l.useState)(null),b=Object(v.a)(g,2),w=b[0],E=b[1],x=Object(l.useState)(0),O=Object(v.a)(x,2),j=O[0],L=O[1],_=Object(l.useState)([]),k=Object(v.a)(_,2),S=k[0],N=k[1],P=Object(l.useState)(!1),G=Object(v.a)(P,2),C=G[0],F=G[1],T=Object(l.useState)(!1),I=Object(v.a)(T,2),z=I[0],D=I[1],W=function(){var e=Object(p.a)(Kn().mark(function e(){return Kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r||alert("login to interact with a post"),e.next=3,y.a.post("/api/v1/comment",{id:i._id,body:h}).then(function(e){console.log(e.data.comment),m(""),N(function(t){return[].concat(Object(A.a)(t),[e.data.comment])})}).catch(function(e){return console.log(e.message)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(Kn().mark(function e(){return Kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r||alert("login to interact with a post"),!z){e.next=5;break}return e.abrupt("return");case 5:return D(!0),e.next=8,y.a.post("/api/v1/like",{id:i._id}).then(function(e){E(function(e){return!e}),L(w?function(e){return e-1}:function(e){return e+1}),D(!1)}).catch(function(e){console.log(e.message),D(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(Kn().mark(function e(){return Kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/v1/post/".concat(i._id)).then(function(e){!0===e.data.response&&t(-1)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(Kn().mark(function e(){return Kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/post/".concat(n)).then(function(e){var t=e.data.post;c(t),L(t.usersLiked.length),N(t.comments)}).catch(function(e){window.alert("post does not exist"),t(-1,{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(Kn().mark(function e(t){return Kn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/comment/delete",{postId:n,commentId:t}).then(function(e){return N(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){U()},[]),Object(l.useEffect)(function(){E(!(!r||!i)&&i.usersLiked.includes(r._id))},[r,i]),u.a.createElement(u.a.Fragment,null,i&&null!==w?u.a.createElement(u.a.Fragment,null,i&&u.a.createElement(sr,null,u.a.createElement(fr,{className:"fa-solid fa-xmark",onClick:function(){t(-1)}}),u.a.createElement(hr,null,u.a.createElement(Or,{moreOption:C,onClick:function(){return F(function(e){return!e})}},u.a.createElement("i",{class:"fa-solid fa-ellipsis"}),r&&i.author._id===r._id&&u.a.createElement("span",{onClick:R},"Delete post")),u.a.createElement(dr,null,u.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},u.a.createElement("div",{class:"carousel-inner"},i.images.map(function(e,t){return u.a.createElement("div",{class:0===t?"carousel-item active":"carousel-item"},u.a.createElement("img",{src:e.url,alt:"slide ".concat(t),className:"".concat(1===i.images.length?"crop":"non-crop")}))})),i.images.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},u.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Previous")),u.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},u.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Next"))))),u.a.createElement(mr,null,u.a.createElement(pr,null,u.a.createElement("img",{src:i.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",{onClick:function(){return t("/".concat(i.author.username))}},i.author.username)),u.a.createElement("hr",null),u.a.createElement(vr,null,u.a.createElement(gr,null,u.a.createElement("div",null,u.a.createElement("img",{src:i.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",null,i.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},i.caption))),S&&S.map(function(e){return u.a.createElement(gr,null,u.a.createElement("div",null,u.a.createElement("img",{src:e.author.avatar.url,className:"avatar-img"}),u.a.createElement("span",null,e.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},e.body)),r._id===e.author._id&&u.a.createElement("div",null,u.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){q(e._id)}})))})),u.a.createElement(yr,null,u.a.createElement("hr",null),u.a.createElement(br,null,u.a.createElement(wr,null,u.a.createElement("div",null,u.a.createElement("img",{src:"/".concat(w,"Heart.png"),onClick:Y}),u.a.createElement("img",{src:"/Comment.png"}),u.a.createElement("img",{src:"/Send.png"})),u.a.createElement("div",null,u.a.createElement("img",{src:"/Save.png"}))),u.a.createElement("span",null,j," likes"),u.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.7rem",color:"grey"}},e.format(Date.now()-(new Date-i.createdAt)).toUpperCase())),u.a.createElement("hr",null),u.a.createElement(Er,null,u.a.createElement(xr,{rows:1,cols:55,placeholder:"Add a comment...",value:h,onChange:function(e){m(e.target.value)}}),u.a.createElement("span",{className:"text-primary",onClick:W},"Post"))))))):u.a.createElement(ue,null))};function Lr(){Lr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var _r,kr,Sr,Nr,Pr,Gr,Cr,Fr,Tr,Ir=g.a.div(Xn||(Xn=Object(m.a)(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  width: ",";\n  height: 40rem;\n  margin: auto;\n  inset: 0;\n  position: fixed;\n  z-index: 1000;\n  display: ",";\n"])),function(e){return 2===e.modalNo?"65rem":"40rem"},function(e){return e.createPostModal?"":"none"}),zr=g.a.div(Zn||(Zn=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),Ar=g.a.div($n||($n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10rem;\n  span {\n    margin-bottom: 3rem;\n    font-size: 2rem;\n    font-weight: 300;\n  }\n  i {\n    font-size: 4rem;\n  }\n  button {\n    width: 25rem;\n  }\n"]))),Mr=g.a.div(er||(er=Object(m.a)(["\n  display: flex;\n  position: relative;\n  img {\n    width: 100%;\n    height: 35rem;\n    object-fit: contain;\n  }\n"]))),Dr=g.a.div(tr||(tr=Object(m.a)(["\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 11px 10px;\n  display: flex;\n  align-items: center;\n  right: 1rem;\n  bottom: 0rem;\n  i {\n    font-size: 1.2rem;\n    color: white;\n  }\n"]))),Wr=g.a.div(nr||(nr=Object(m.a)(["\n  height: 10rem;\n  width: 93%;\n  background-color: rgba(0, 0, 0, 0.3);\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: 1rem;\n  bottom: 3rem;\n  padding: 0 0.5rem;\n  overflow-x: scroll;\n"]))),Yr=g.a.div(rr||(rr=Object(m.a)(["\n  position: relative;\n  i {\n    position: absolute;\n    right: 0.3rem;\n    top: 0.3rem;\n    font-size: 1.2rem;\n  }\n  img {\n    height: 6rem;\n    margin: 0 0.2rem;\n  }\n"]))),Rr=g.a.label(ar||(ar=Object(m.a)(["\n  border-radius: 50%;\n  border: none;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 1.2rem 1.5rem;\n  display: flex;\n  text-align: center;\n  margin-left: 0.5rem;\n  i {\n    color: white;\n    font-size: 2rem;\n  }\n"]))),Ur=g.a.div(or||(or=Object(m.a)(["\n  display: flex;\n  flex: 1;\n"]))),qr=g.a.div(ir||(ir=Object(m.a)(["\n  flex: 0.6;\n  border-right: 1px solid rgba(0, 0, 0, 0.3);\n  img {\n    width: 100%;\n    height: 35rem;\n    object-fit: contain;\n  }\n"]))),Hr=g.a.div(cr||(cr=Object(m.a)(["\n  flex: 0.4;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]))),Br=g.a.div(lr||(lr=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  img {\n    width: 3rem;\n    height: 3rem;\n    object-fit: contain;\n  }\n  span {\n    font-weight: 500;\n    font-size: 1rem;\n    margin-left: 1rem;\n  }\n"]))),Jr=g.a.textarea(ur||(ur=Object(m.a)(["\n  outline: none;\n  border: none;\n  resize: none;\n"]))),Qr=function(){var e=Object(M.c)(function(e){return e.user}).user,t=Object(M.c)(function(e){return e.modal}).createPostModal,n=Object(M.b)(),r=Object(l.useState)(!1),a=Object(v.a)(r,2),o=a[0],i=a[1],c=Object(l.useState)([]),s=Object(v.a)(c,2),f=s[0],h=s[1],d=Object(l.useState)(0),m=Object(v.a)(d,2),g=m[0],b=m[1],w=Object(l.useState)(!1),E=Object(v.a)(w,2),x=E[0],O=E[1],j=Object(l.useState)(0),L=Object(v.a)(j,2),_=L[0],k=L[1],S=Object(l.useState)(""),N=Object(v.a)(S,2),P=N[0],G=N[1],C=function(){var e=Object(p.a)(Lr().mark(function e(){return Lr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,y.a.post("/api/v1/create",{caption:P,images:f},{headers:{"Content-Type":"application/json"}}).then(function(e){G(""),h([]),i(!1),n({type:"TOGGLE_CREATE_POST_MODAL"}),window.location.reload()});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(Ir,{createPostModal:t,modalNo:g},u.a.createElement("div",{className:"black-overlay"}),(0===f.length||0===g)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(zr,{style:{justifyContent:"center"}},u.a.createElement("span",{style:{fontWeight:"500"}},"Create new post")),u.a.createElement("hr",{style:{margin:"0"}}),u.a.createElement(Ar,null,u.a.createElement("i",{class:"fa-regular fa-image"}),u.a.createElement("span",null,"Select photos here"),u.a.createElement("button",{className:"btn btn-primary"},u.a.createElement("label",{htmlFor:"images"},"Select from computer")),u.a.createElement("input",{type:"file",name:"images",id:"images",accept:"image/*",multiple:!0,style:{display:"none"},onChange:function(e){Array.from(e.target.files).forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&h(function(e){return[].concat(Object(A.a)(e),[t.result])})},t.readAsDataURL(e)}),b(1)}}))),f.length>0&&1===g&&u.a.createElement(u.a.Fragment,null,u.a.createElement(zr,null,u.a.createElement("i",{class:"fa-solid fa-arrow-left",style:{cursor:"pointer"},onClick:function(){b(0)}}),u.a.createElement("span",{style:{fontWeight:"500"}},"Images preview"),u.a.createElement("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){b(2)}},"next")),u.a.createElement("hr",{style:{margin:"0"}}),u.a.createElement(Mr,null,u.a.createElement("img",{src:f[_],alt:"images-preview"}),u.a.createElement(Dr,{onClick:function(){O(function(e){return!e})}},u.a.createElement("i",{class:"fa-regular fa-images"})),x&&u.a.createElement(Wr,null,f&&f.map(function(e,t){return u.a.createElement(Yr,null,u.a.createElement("i",{class:"fa-regular fa-circle-xmark",onClick:function(){var t;t=e,h(function(e){return e.filter(function(e){return e!==t})})}}),u.a.createElement("img",{src:e,alt:"images-preview-edit",onClick:function(){k(t)}}))}),u.a.createElement(Rr,{htmlFor:"addImage"},u.a.createElement("i",{class:"fa-solid fa-plus"})),u.a.createElement("input",{type:"file",name:"addImage",id:"addImage",accept:"image/*",multiple:!0,style:{display:"none"},onChange:function(e){Array.from(e.target.files).forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&h(function(e){return[].concat(Object(A.a)(e),[t.result])})},t.readAsDataURL(e)})}})))),2===g&&e&&u.a.createElement(u.a.Fragment,null,u.a.createElement(zr,null,u.a.createElement("i",{class:"fa-solid fa-arrow-left",style:{cursor:"pointer"},onClick:function(){b(1)}}),u.a.createElement("span",{style:{fontWeight:"500"}},"Create new post"),u.a.createElement("button",{className:"btn btn-primary",style:{cursor:"pointer"},onClick:C,disabled:!!o},"Share")),u.a.createElement("hr",null),u.a.createElement(Ur,null,u.a.createElement(qr,null,u.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},u.a.createElement("div",{class:"carousel-inner"},u.a.createElement("div",{class:"carousel-item active"},u.a.createElement("img",{src:f[0],alt:"imagePreview-0"})),f.length>1&&f.map(function(e,t){if(t>0)return u.a.createElement("div",{class:"carousel-item"},u.a.createElement("img",{src:e,alt:"imagePreview-".concat(t)}))})),u.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},u.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Previous")),u.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},u.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Next")))),u.a.createElement(Hr,null,u.a.createElement(Br,null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name)),u.a.createElement(Jr,{placeholder:"Write a caption...",rows:10,value:P,onChange:function(e){G(e.target.value)}})))))};function Vr(){Vr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Kr,Xr,Zr,$r,ea,ta=function(){var e=Object(d.m)(),t=Object(l.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1],o=Object(M.c)(function(e){return e.user}).user,i=function(){var e=Object(p.a)(Vr().mark(function e(){return Vr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/chats").then(function(e){return a(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){i()},[]),u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(na,null,u.a.createElement(ra,null,u.a.createElement(W,null)),u.a.createElement(aa,null,u.a.createElement(ia,null,u.a.createElement(ca,null,u.a.createElement("span",null,o.username)),u.a.createElement("hr",null),u.a.createElement(la,null,r.map(function(t){if(t.messagesCount>0)return u.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==o._id)return u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name))}))}))),u.a.createElement(oa,null),u.a.createElement(ua,null,u.a.createElement(sa,null,u.a.createElement("img",{src:"/send.png"}),u.a.createElement("span",{style:{fontSize:"1.4rem"}},"Your Messages"),u.a.createElement("span",null,"Send private photos and messages to a friend or group."))))))},na=g.a.div(_r||(_r=Object(m.a)(["\n  display: flex;\n"]))),ra=g.a.div(kr||(kr=Object(m.a)(["\n  flex: 0.25;\n"]))),aa=g.a.div(Sr||(Sr=Object(m.a)(["\n  flex: 0.65;\n  display: flex;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 50rem;\n  height: 90vh;\n  margin-top: 3vh;\n"]))),oa=g.a.div(Nr||(Nr=Object(m.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100%;\n"]))),ia=g.a.div(Pr||(Pr=Object(m.a)(["\n  flex: 0.35;\n"]))),ca=g.a.div(Gr||(Gr=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n"]))),la=g.a.div(Cr||(Cr=Object(m.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),ua=g.a.div(Fr||(Fr=Object(m.a)(["\n  flex: 0.65;\n  display: flex;\n"]))),sa=g.a.div(Tr||(Tr=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n  text-align: center;\n  img {\n    width: 4rem;\n    height: 4rem;\n    margin-bottom: 1rem;\n  }\n"])));var fa,ha,da,ma,pa=function(){var e=Object(M.b)(),t=Object(d.m)(),n=Object(M.c)(function(e){return e.user}),r=n.user,a=n.userLoading,o=Object(M.c)(function(e){return e.modal}).notificationModal;return Object(l.useEffect)(function(){r&&r.notifications.sort(function(e,t){return t.timeStamp-e.timeStamp})},[r]),u.a.createElement(u.a.Fragment,null,a?u.a.createElement(ue,null):u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(va,{notificationModal:o},u.a.createElement(ga,null,u.a.createElement(ya,{onClick:function(){e({type:"TOGGLE_NOTIFICATION_MODAL"})}},u.a.createElement("i",{class:"fa-solid fa-xmark"})),u.a.createElement("h4",null,"Notifications")),u.a.createElement("hr",{style:{margin:"1rem 0"}}),u.a.createElement(ba,null,u.a.createElement(u.a.Fragment,null,r.notifications.length>=1?u.a.createElement(u.a.Fragment,null,r.notifications.map(function(e){return u.a.createElement("span",{onClick:function(){return t(e.reference)}},e.content)})):u.a.createElement(wa,null,u.a.createElement("i",{class:"fa-regular fa-heart"}),u.a.createElement("span",null,"Activity on your post"),u.a.createElement("span",null,"When someone likes or comment on one of your posts, you'll see it here.")))))))},va=g.a.div(Kr||(Kr=Object(m.a)(["\n  height: 100vh;\n  width: 30rem;\n  position: fixed;\n  left: ",";\n  top: 0;\n  background-color: white;\n  z-index: 10;\n  transition: 0.5s;\n  padding: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"])),function(e){return e.notificationModal?"0":"-30rem"}),ga=g.a.div(Xr||(Xr=Object(m.a)(["\n  display: flex;\n  h4 {\n    margin: auto;\n  }\n"]))),ya=g.a.div(Zr||(Zr=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),ba=g.a.div($r||($r=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  span {\n    font-size: 1.1rem;\n    cursor: pointer;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.5rem;\n    padding: 5px 20px;\n    margin: 0.5rem;\n  }\n"]))),wa=g.a.div(ea||(ea=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  padding: 1rem 0;\n  i {\n    font-size: 4rem;\n  }\n  span {\n    border: none;\n  }\n"])));function Ea(){Ea=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var xa,Oa,ja,La,_a,ka=function(){var e=Object(M.b)(),t=Object(d.m)(),n=Object(M.c)(function(e){return e.modal}).searchModal,r=Object(l.useState)(""),a=Object(v.a)(r,2),o=a[0],i=a[1],c=Object(l.useState)([]),s=Object(v.a)(c,2),f=s[0],h=s[1],m=function(){var e=Object(p.a)(Ea().mark(function e(){return Ea().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/search",{username:o}).then(function(e){console.log(e.data),h(e.data.users)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){m()},[o]),u.a.createElement(Sa,{searchModal:n},u.a.createElement(Na,null,u.a.createElement(Pa,{onClick:function(){e({type:"TOGGLE_SEARCH_MODAL"})}},u.a.createElement("i",{class:"fa-solid fa-xmark"})),u.a.createElement("h4",null,"Search"),u.a.createElement("input",{type:"text",name:"username",value:o,placeholder:"search",className:"form-control",autoComplete:"off",onChange:function(e){i(e.target.value)}})),u.a.createElement("hr",null),u.a.createElement(Ga,null,f.map(function(n){return u.a.createElement("div",{onClick:function(){e({type:"TOGGLE_SEARCH_MODAL"}),t("/".concat(n.username))}},u.a.createElement("img",{src:n.avatar.url}),u.a.createElement("span",null,n.username))})))},Sa=g.a.div(fa||(fa=Object(m.a)(["\n  height: 100vh;\n  width: 30rem;\n  position: fixed;\n  left: ",";\n  top: 0;\n  background-color: white;\n  z-index: 10;\n  transition: 0.5s;\n  padding: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"])),function(e){return e.searchModal?"0":"-30rem"}),Na=g.a.div(ha||(ha=Object(m.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 15vh;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]))),Pa=g.a.div(da||(da=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),Ga=g.a.div(ma||(ma=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  div {\n    display: flex;\n    margin: 0.5rem 0;\n    align-items: center;\n    cursor: pointer;\n  }\n\n  img {\n    border-radius: 50%;\n    width: 2rem;\n    height: 2rem;\n    margin-right: 1rem;\n  }\n"])));function Ca(){Ca=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Fa,Ta,Ia,za,Aa=function(){var e=Object(d.o)().postId,t=Object(M.c)(function(e){return e.user}).user,n=Object(l.useState)(null),r=Object(v.a)(n,2),a=r[0],o=r[1],i=Object(l.useState)([]),c=Object(v.a)(i,2),s=c[0],f=c[1],h=Object(l.useState)(null),m=Object(v.a)(h,2),g=m[0],b=m[1],w=Object(l.useState)(""),E=Object(v.a)(w,2),x=E[0],O=E[1],j=Object(l.useState)(!1),L=Object(v.a)(j,2),_=L[0],k=L[1],S=function(){var t=Object(p.a)(Ca().mark(function t(){return Ca().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("/api/v1/post/".concat(e)).then(function(e){o(e.data.post),f(e.data.post.comments),b(!1)}).catch(function(e){return console.log(e.message)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(Ca().mark(function e(){return Ca().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=4;break}return e.abrupt("return");case 4:return k(!0),e.next=7,y.a.post("/api/v1/comment",{id:a._id,body:x}).then(function(e){f(function(t){return[].concat(Object(A.a)(t),[e.data.comment])}),O(""),k(!1)}).catch(function(e){return console.log(e.message)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var t=Object(p.a)(Ca().mark(function t(n){return Ca().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("/api/v1/comment/delete",{postId:e,commentId:n}).then(function(e){return f(e.data.comments)}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(l.useEffect)(function(){a&&e===a._id||(b(!0),S())},[a]),u.a.createElement(u.a.Fragment,null,g||!t?u.a.createElement(ue,null):u.a.createElement(Ma,null,u.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"sticky",top:"0",backgroundColor:"white"}},u.a.createElement(Da,null,u.a.createElement("span",null,"Comments")),u.a.createElement("hr",null),u.a.createElement(Ya,null,u.a.createElement("img",{src:t.avatar.url}),u.a.createElement(Ra,null,u.a.createElement("textarea",{name:"comment",value:x,placeholder:"add a comment...",rows:1,onChange:function(e){O(e.target.value)}}),u.a.createElement("span",{style:{marginLeft:"0.5rem"},className:"text-primary",onClick:N},"Post")))),u.a.createElement(Wa,null,s&&s.map(function(e){return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("img",{src:e.author.avatar.url}),u.a.createElement("span",{style:{alignSelf:"center"}},u.a.createElement("span",{style:{fontWeight:"600",marginRight:"0.5rem"}},e.author.username),e.body)),u.a.createElement("div",null,t._id===e.author._id&&u.a.createElement("div",null,u.a.createElement("i",{class:"fa-solid fa-trash",style:{cursor:"pointer"},onClick:function(){P(e._id)}}))))}))))},Ma=g.a.div(xa||(xa=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  img {\n    width: 2rem;\n    height: 2rem;\n    margin-right: 0.7rem;\n    border-radius: 50%;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n  }\n"]))),Da=g.a.div(Oa||(Oa=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  span {\n    font-weight: 600;\n    font-size: 1.2rem;\n  }\n"]))),Wa=g.a.div(ja||(ja=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.7rem;\n  div {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n\n    margin: 0.5rem 0;\n    font-size: 0.9rem;\n  }\n"]))),Ya=g.a.div(La||(La=Object(m.a)(["\n  display: flex;\n  padding: 0.7rem;\n  align-items: center;\n  background-color: whitesmoke;\n  font-size: 0.9rem;\n  textarea {\n    resize: none;\n    border: none;\n    outline: none;\n  }\n"]))),Ra=g.a.div(_a||(_a=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  background-color: white;\n  padding: 0.5rem 0.8rem;\n  border-radius: 2rem;\n  width: 100%;\n  justify-content: space-between;\n"])));var Ua,qa,Ha,Ba=function(){var e=Object(M.c)(function(e){return e.user}),t=e.user,n=e.userLoading,r=Object(d.m)(),a=Object(l.useState)(!1),o=Object(v.a)(a,2),i=o[0],c=o[1];return Object(l.useEffect)(function(){t&&t.notifications.sort(function(e,t){return t.timeStamp-e.timeStamp})&&c(!0)},[t]),u.a.createElement(u.a.Fragment,null,n||!i?u.a.createElement(ue,null):u.a.createElement(Ja,null,u.a.createElement(Qa,null,u.a.createElement("span",null,"Notifications")),u.a.createElement("hr",null),u.a.createElement(Va,null,t.notifications.length>=1?u.a.createElement(u.a.Fragment,null,t.notifications.map(function(e){return u.a.createElement("span",{onClick:function(){return r(e.reference)}},e.content)})):u.a.createElement(Ka,null,u.a.createElement("i",{class:"fa-regular fa-heart"}),u.a.createElement("span",null,"Activity on your post"),u.a.createElement("span",null,"When someone likes or comment on one of your posts, you'll see it here.")))))},Ja=g.a.div(Fa||(Fa=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Qa=g.a.div(Ta||(Ta=Object(m.a)(["\n  display: flex;\n  font-weight: 500;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem 0;\n"]))),Va=g.a.div(Ia||(Ia=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  font-size: 0.9rem;\n  span {\n    margin: 0.5rem 0;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    padding: 0.5rem 1rem;\n    border-radius: 0.5rem;\n  }\n"]))),Ka=g.a.div(za||(za=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  padding: 1rem 0;\n  i {\n    font-size: 4rem;\n  }\n"])));function Xa(){Xa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Za,$a,eo,to,no,ro,ao,oo,io,co,lo,uo=function(){var e=Object(d.m)(),t=Object(M.c)(function(e){return e.modal}).searchModal,n=Object(l.useState)(""),r=Object(v.a)(n,2),a=r[0],o=r[1],i=Object(l.useState)([]),c=Object(v.a)(i,2),s=c[0],f=c[1],h=function(){var e=Object(p.a)(Xa().mark(function e(){return Xa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/search",{username:a}).then(function(e){f(e.data.users)}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){h()},[a]),u.a.createElement(so,{searchModal:t},u.a.createElement(fo,null,u.a.createElement("input",{type:"text",name:"username",value:a,placeholder:"search",className:"form-control",autoComplete:"off",onChange:function(e){o(e.target.value)}})),u.a.createElement("hr",{style:{margin:"1rem 0"}}),u.a.createElement(ho,null,s.map(function(t){return u.a.createElement("div",{onClick:function(){e("/".concat(t.username))}},u.a.createElement("img",{src:t.avatar.url}),u.a.createElement("span",null,t.username))})),u.a.createElement(at,null))},so=g.a.div(Ua||(Ua=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 0 0;\n  height: 100vh;\n"]))),fo=g.a.div(qa||(qa=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin: auto;\n  input {\n    width: 90vw;\n  }\n"]))),ho=g.a.div(Ha||(Ha=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem;\n  height: 80vh;\n  div {\n    display: flex;\n    margin: 0.5rem 0;\n    align-items: center;\n    cursor: pointer;\n  }\n  img {\n    border-radius: 50%;\n    width: 2rem;\n    height: 2rem;\n    margin-right: 1rem;\n  }\n"])));function mo(){mo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var po,vo,go,yo,bo,wo,Eo=function(){var e=Object(M.c)(function(e){return e.user}).user,t=Object(d.o)().username,n=Object(d.m)(),r=Object(l.useState)(null),a=Object(v.a)(r,2),o=a[0],i=a[1],c=Object(l.useState)(null),s=Object(v.a)(c,2),f=s[0],h=s[1],m=Object(l.useState)(null),g=Object(v.a)(m,2),b=g[0],w=g[1],E=Object(l.useState)(!0),x=Object(v.a)(E,2),O=x[0],j=x[1],L=Object(l.useState)(null),_=Object(v.a)(L,2),k=_[0],S=_[1],N=Object(l.useState)([]),P=Object(v.a)(N,2),G=P[0],C=P[1],F=Object(l.useState)(!0),T=Object(v.a)(F,2),I=T[0],z=T[1],A=function(){var r=Object(p.a)(mo().mark(function r(){return mo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return j(!0),r.next=3,y.a.get("/api/v1/user/".concat(t)).then(function(t){h(t.data.user.followers.length),w(t.data.user.following.length),i(t.data.user),S(e&&e.following.includes(t.data.user._id)),j(!1)}).catch(function(e){window.alert("user does not exist"),n(-1,{replace:!0})});case 3:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(mo().mark(function e(){return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/post/user/".concat(t)).then(function(e){C(e.data.posts)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(mo().mark(function e(){return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/follower/add",{searchedUser:o}).then(function(e){S(!0),h(function(e){return e+1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(mo().mark(function e(){return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/follower/remove",{searchedUser:o}).then(function(e){S(!1),h(function(e){return e-1})}).catch(function(e){return console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(mo().mark(function e(){return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/v1/chat",{secondUser:o._id}).then(function(e){n("/direct/".concat(e.data.chat._id),{replce:!0})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(mo().mark(function e(){return mo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/logout").then(function(e){n("/",{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){A(),D()},[t]),u.a.createElement(u.a.Fragment,null,O||!G?u.a.createElement(ue,null):u.a.createElement(xo,null,u.a.createElement(Oo,null,u.a.createElement("h6",null,o.username),e&&u.a.createElement("i",{class:"fa-solid fa-gear",onClick:function(){return z(function(e){return!e})}}),u.a.createElement("span",{className:I&&"hidden",onClick:U},"Logout")),u.a.createElement("hr",null),u.a.createElement(jo,null,u.a.createElement(Lo,null,u.a.createElement(_o,null,u.a.createElement("div",{className:"img-div"},u.a.createElement("img",{src:o.avatar.url})),u.a.createElement("div",null,u.a.createElement("span",null,o.username),e&&u.a.createElement(u.a.Fragment,null,e.username===o.username?u.a.createElement(ko,{onClick:function(){return n("/accounts/edit")}},"Edit profile"):u.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},u.a.createElement("button",{className:k?"btn btn-outline-dark":"btn btn-primary",onClick:k?Y:W},k?"Following":"Follow"),u.a.createElement("button",{className:"btn btn-outline-dark",style:{marginLeft:"0.5rem"},onClick:R},"Message"))))),u.a.createElement(So,null,u.a.createElement("span",{style:{fontWeight:"500"}},o.name),u.a.createElement("span",null,o.bio)),u.a.createElement("hr",{style:{margin:"1rem -1rem"}}),u.a.createElement(No,null,u.a.createElement("div",null,u.a.createElement("b",null,o.posts.length),"posts"),u.a.createElement("div",null,u.a.createElement("b",null,f),"followers"),u.a.createElement("div",null,u.a.createElement("b",null,b),"following")),u.a.createElement("hr",{style:{margin:"1rem -1rem 0rem"}})),u.a.createElement("div",null,u.a.createElement("i",{class:"fa-solid fa-table-cells text-primary",style:{fontSize:"1.5rem",margin:"0 1rem 1rem"}})),u.a.createElement("hr",null),u.a.createElement(Po,{postsLength:G.length},G.length>0?u.a.createElement(u.a.Fragment,null,G.map(function(e){return u.a.createElement(Go,{onClick:function(){return n("/p/".concat(e._id))}},u.a.createElement("img",{src:e.images[0].url}))})):u.a.createElement("div",{style:{margin:"2rem auto",fontSize:"1.5rem"}}," No posts "))),u.a.createElement(Co,null,u.a.createElement(at,null))))},xo=g.a.div(Za||(Za=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100%;\n"]))),Oo=g.a.div($a||($a=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem;\n  position: relative;\n  i {\n    position: absolute;\n    left: 1rem;\n    top: 0.75rem;\n    font-size: 1.2rem;\n  }\n  span {\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem 1rem;\n    position: absolute;\n    top: 2.5rem;\n    left: 1rem;\n    background-color: white;\n    z-index: 100;\n  }\n"]))),jo=g.a.div(eo||(eo=Object(m.a)([""]))),Lo=g.a.div(to||(to=Object(m.a)(["\n  padding: 1rem;\n"]))),_o=g.a.div(no||(no=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  div {\n    display: flex;\n    flex-direction: column;\n    flex: 0.65;\n  }\n  span {\n    font-size: 1.7rem;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    margin-bottom: 5px;\n  }\n  img {\n    width: 5rem;\n    height: 5rem;\n    border-radius: 150%;\n  }\n  .img-div {\n    flex: 0.35;\n  }\n  width: 100%;\n"]))),ko=g.a.button(ro||(ro=Object(m.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  background-color: white;\n  width: 100%;\n"]))),So=g.a.div(ao||(ao=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 0.9rem;\n  margin-top: 1.5rem;\n"]))),No=g.a.div(oo||(oo=Object(m.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 0.9rem;\n  margin: 0 -1rem;\n  div {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),Po=g.a.div(io||(io=Object(m.a)(["\n  display: ",";\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.2rem;\n"])),function(e){return e.postsLength>0?"grid":"flex"}),Go=g.a.div(co||(co=Object(m.a)(["\n  display: inline;\n  width: 100%;\n  height: 100%;\n  img {\n    width: 100%;\n    height: 7rem;\n    object-fit: cover;\n  }\n"]))),Co=g.a.div(lo||(lo=Object(m.a)(["\n  position: sticky;\n  margin-top: auto;\n  bottom: 0;\n"])));function Fo(){Fo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var To,Io,zo,Ao,Mo,Do,Wo,Yo,Ro,Uo=function(){var e=Object(d.m)(),t=Object(M.c)(function(e){return e.user}).user,n=Object(l.useState)(null),r=Object(v.a)(n,2),a=r[0],o=r[1],i=Object(l.useState)(null),c=Object(v.a)(i,2),s=c[0],f=c[1],h=Object(l.useState)(null),m=Object(v.a)(h,2),g=m[0],b=m[1],w=Object(l.useState)(""),E=Object(v.a)(w,2),x=E[0],O=E[1],j=Object(l.useState)(""),L=Object(v.a)(j,2),_=L[0],k=L[1],S=Object(l.useState)(""),N=Object(v.a)(S,2),P=N[0],G=N[1],C=Object(l.useState)(0),F=Object(v.a)(C,2),T=F[0],I=F[1],z=Object(l.useState)(""),A=Object(v.a)(z,2),D=A[0],Y=A[1],R=Object(l.useState)(null),U=Object(v.a)(R,2),q=U[0],H=U[1],B=Object(l.useState)(!1),J=Object(v.a)(B,2),Q=J[0],V=J[1],K=function(){var t=Object(p.a)(Fo().mark(function t(){var n;return Fo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(V(!0),_===P){t.next=3;break}return t.abrupt("return",H("password does not match"));case 3:return n={Headers:{"Content-Type":"application/json"}},t.next=6,y.a.post("/api/v1/profile/update",{name:a,username:s,bio:g,oldPassword:x,newPassword:_,avatar:D},n).then(function(t){V(!1),e("/".concat(t.data.user.username),{replace:!0})}).catch(function(e){V(!1),H(e.response.data.message)});case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)(function(){t&&(o(t.name),f(t.username),b(t.bio),Y(t.avatar.url))},[t]),u.a.createElement(u.a.Fragment,null,t&&u.a.createElement(qo,null,window.innerWidth>769&&u.a.createElement(Ho,null," ",u.a.createElement(W,null)),u.a.createElement(Bo,null,window.innerWidth<769&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Vo,null,"Edit Profile"),u.a.createElement("hr",{style:{margin:"0.5rem 0"}})),u.a.createElement(Jo,null,u.a.createElement("div",{className:"img-div"},u.a.createElement("img",{src:D})),u.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},u.a.createElement("span",{style:{fontSize:"1.3rem"}},t.username),u.a.createElement("input",{type:"file",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&Y(t.result)},t.readAsDataURL(e.target.files[0])},style:{display:"none"},id:"avatar",accept:"image/*"}),u.a.createElement("div",{className:"input-label-div"},u.a.createElement("label",{htmlFor:"avatar"},u.a.createElement("span",{className:"text-primary",style:{fontSize:"0.9rem",cursor:"pointer"}},"Change profile photo")),u.a.createElement("span",{className:"text-danger",style:{fontSize:"0.9rem",cursor:"pointer"},onClick:function(){Y("https://res.cloudinary.com/duvgguhqc/image/upload/v1669574324/Avatars/default-pfp_mltcik.png")}},"Remove profile photo")))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"Name"),u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)}}),u.a.createElement("span",null,"Help people discover your account by using the name that you're known by: either your full name, nickname or business name"),u.a.createElement("span",null,"You can only change your name twice within 14 days."))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"Username"),u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:s,onChange:function(e){return f(e.target.value)}}),u.a.createElement("span",null,"In most cases, you'll be able to change your username back to newtonss3rdlaw for another 11 days."))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"Bio"),u.a.createElement("div",null,u.a.createElement("textarea",{value:g,onChange:function(e){b(e.target.value),I(e.target.value.length)},maxLength:"150",style:{fontSize:"0.9rem"}}),u.a.createElement("span",null,T,"/150"),u.a.createElement("span",{style:{fontSize:"0.8rem",fontWeight:"500"}},"Personal information"),u.a.createElement("span",null,"Provide your personal information, even if the account is used for a business, pet or something else. This won't be part of your public profile."))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"Old password"),u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:x,onChange:function(e){return O(e.target.value)}}))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"New password"),u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:_,onChange:function(e){return k(e.target.value)}}))),u.a.createElement(Qo,null,u.a.createElement("h6",null,"Confirm new password"),u.a.createElement("div",null,u.a.createElement("input",{type:"text",value:P,onChange:function(e){return G(e.target.value)}}))),q&&u.a.createElement("div",{class:"alert alert-danger",role:"alert",style:{width:"100%"}},q),u.a.createElement("button",{className:"btn btn-primary",onClick:K,disabled:!!Q},"Submit"))))},qo=g.a.div(po||(po=Object(m.a)(["\n  display: flex;\n  position: relative;\n  background-color: whitesmoke;\n  flex: 1;\n"]))),Ho=g.a.div(vo||(vo=Object(m.a)(["\n  flex: 0.3;\n"]))),Bo=g.a.div(go||(go=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.5rem;\n  padding: 5rem;\n  margin: 2rem auto;\n  background-color: white;\n  flex: 0.5;\n  button {\n    align-self: center;\n    margin-top: 2rem;\n    width: 6rem;\n  }\n\n  @media (max-width: 769px) {\n    width: 100%;\n    border: none;\n    padding: 1rem;\n    margin: 0;\n    flex: 1;\n  }\n"]))),Jo=g.a.div(yo||(yo=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n  .img-div {\n    display: flex;\n    flex: 0.2;\n    margin-right: 1.5rem;\n    justify-content: flex-end;\n  }\n  img {\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    @media (max-width: 769px) {\n      width: 3.5rem;\n      height: 3.5rem;\n    }\n  }\n  div {\n    display: flex;\n    flex: 0.7;\n  }\n  .input-label-div {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    label {\n      margin-bottom: 0.3rem;\n    }\n  }\n"]))),Qo=g.a.div(bo||(bo=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  margin: 1rem 0;\n  h6 {\n    font-weight: 500;\n    flex: 0.2;\n    text-align: right;\n    margin: 0.5rem 1.5rem 0 0;\n  }\n  div {\n    display: flex;\n    flex: 0.7;\n    flex-direction: column;\n    width: 23rem;\n    span {\n      font-size: 0.7rem;\n      margin-top: 0.5rem;\n    }\n    input {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      padding: 0.5rem;\n    }\n  }\n  @media (max-width: 769px) {\n    flex-direction: column;\n    h6 {\n      text-align: left;\n      margin-bottom: 5px;\n    }\n    div {\n      width: 100%;\n    }\n  }\n"]))),Vo=g.a.div(wo||(wo=Object(m.a)(["\n  font-weight: 500;\n  display: flex;\n  padding: 0.5rem;\n  justify-content: center;\n"])));function Ko(){Ko=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Xo,Zo=function(){se.a.addDefaultLocale(fe);var e=new se.a("en-US"),t=Object(d.m)(),n=Object(M.c)(function(e){return e.user}).user,r=Object(d.o)().postId,a=Object(l.useState)(null),o=Object(v.a)(a,2),i=o[0],c=o[1],s=Object(l.useState)(null),f=Object(v.a)(s,2),h=f[0],m=f[1],g=Object(l.useState)(null),b=Object(v.a)(g,2),w=b[0],E=b[1],x=Object(l.useState)(0),O=Object(v.a)(x,2),j=O[0],L=O[1],_=Object(l.useState)(!1),k=Object(v.a)(_,2),S=k[0],N=k[1],P=Object(l.useState)(!1),G=Object(v.a)(P,2),C=G[0],F=G[1],T=function(){var e=Object(p.a)(Ko().mark(function e(){return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||alert("login to interact with a post"),!C){e.next=5;break}return e.abrupt("return");case 5:return F(!0),e.next=8,y.a.post("/api/v1/like",{id:i._id}).then(function(e){E(function(e){return!e}),L(w?function(e){return e-1}:function(e){return e+1}),F(!1)}).catch(function(e){console.log(e.message),F(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(Ko().mark(function e(){return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/v1/post/".concat(i._id)).then(function(e){!0===e.data.response&&window.location.reload()}).catch(function(e){console.log(e.message)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(Ko().mark(function e(){return Ko().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/post/".concat(r)).then(function(e){var t=e.data.post;c(t),L(t.usersLiked.length),m(t.comments.length)}).catch(function(e){window.alert("post does not exist"),t(-1,{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){z()},[]),Object(l.useEffect)(function(){E(!(!n||!i)&&i.usersLiked.includes(n._id))},[n,i]),u.a.createElement(u.a.Fragment,null," ",i&&null!==w?u.a.createElement(u.a.Fragment,null,u.a.createElement($o,null,u.a.createElement(ii,{moreOption:S,onClick:function(){return N(function(e){return!e})}},u.a.createElement("i",{class:"fa-solid fa-ellipsis"}),n&&i.author._id===n._id&&u.a.createElement("span",{onClick:I},"Delete post")),u.a.createElement(ei,null,u.a.createElement("img",{src:i.author.avatar.url}),u.a.createElement("span",{onClick:function(){return t("/".concat(i.author.username))}},i.author.username)),u.a.createElement("hr",null),u.a.createElement(ti,{imagesLength:i.images.length},u.a.createElement("div",{id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},u.a.createElement("div",{class:"carousel-inner"},i.images.map(function(e,t){return u.a.createElement("div",{class:"carousel-item ".concat(0===t?"active":"")},u.a.createElement("img",{src:e.url,alt:"slide ".concat(t)}))})),i.images.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"prev"},u.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Previous")),u.a.createElement("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleControls","data-bs-slide":"next"},u.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),u.a.createElement("span",{class:"visually-hidden"},"Next"))))),u.a.createElement("hr",null),u.a.createElement(ni,null,u.a.createElement(ri,null,u.a.createElement("div",null,u.a.createElement("img",{src:"/".concat(w,"Heart.png"),onClick:T}),u.a.createElement("img",{src:"/Comment.png",onClick:function(){return t("/p/".concat(i._id,"/comments"))}}),u.a.createElement("img",{src:"/Send.png"})),u.a.createElement("div",null,u.a.createElement("img",{src:"/Save.png"}))),u.a.createElement("span",null,j," likes"),u.a.createElement(ai,null,u.a.createElement("span",null,i.author.username),u.a.createElement("span",{style:{fontWeight:"400"}},i.caption)),u.a.createElement(oi,{onClick:function(){return t("/p/".concat(i._id,"/comments"))}},h>0?"View all ".concat(h," comments"):"0 comments"),u.a.createElement("span",{style:{fontWeight:"400",fontSize:"0.6rem",color:"grey"}},e.format(Date.now()-(new Date-i.createdAt)).toUpperCase()))),u.a.createElement(ci,null,u.a.createElement(at,null))):u.a.createElement(ue,null))},$o=g.a.div(To||(To=Object(m.a)(["\n  width: 30rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  margin: 1rem auto;\n  position: relative;\n  align-items: center;\n  @media (max-width: 426px) {\n    width: 100%;\n    border: none;\n    border-top: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0;\n  }\n"]))),ei=g.a.div(Io||(Io=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  img {\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n    border-radius: 50%;\n  }\n  span {\n    font-size: 0.9rem;\n    font-weight: 500;\n    margin-left: 0.8rem;\n    cursor: pointer;\n  }\n"]))),ti=g.a.div(zo||(zo=Object(m.a)(["\n  img {\n    width: 30rem;\n    height: 30rem;\n    object-fit: cover;\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 23rem;\n      height: 23rem;\n      object-fit: cover;\n    }\n  }\n"]))),ni=g.a.div(Ao||(Ao=Object(m.a)(["\n  padding: 0 0.5rem;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n  span {\n    margin: 0.2rem 0.5rem;\n    font-weight: 500;\n  }\n  @media (max-width: 426px) {\n    font-size: 0.9rem;\n  }\n"]))),ri=g.a.div(Mo||(Mo=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    width: 1.5rem;\n    height: 1.5rem;\n    object-fit: contain;\n    margin: 0.8rem 0.5rem;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  img:hover {\n    filter: opacity(0.5) drop-shadow(0 0 0 grey);\n  }\n  @media (max-width: 426px) {\n    img {\n      width: 1.2rem;\n      height: 1.2rem;\n    }\n  }\n"]))),ai=g.a.div(Do||(Do=Object(m.a)(["\n  display: flex;\n  margin: 0 5px 5px;\n  span {\n    margin: 0 3px;\n    font-size: 0.9rem;\n  }\n  @media (max-width: 426px) {\n    span {\n      font-size: 0.85rem;\n    }\n  }\n"]))),oi=g.a.span(Wo||(Wo=Object(m.a)(["\n  font-weight: 400 !important;\n  color: grey;\n  font-size: 0.9rem;\n  cursor: pointer;\n  @media (max-width: 426px) {\n    font-size: 0.8rem;\n  }\n"]))),ii=g.a.div(Yo||(Yo=Object(m.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  z-index: 500;\n  span {\n    display: ",";\n    position: absolute;\n    top: 3rem;\n    right: 0.5rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 10px;\n    padding: 0.5rem;\n    font-size: 0.8rem;\n    width: 6rem;\n    background-color: white;\n    cursor: pointer;\n  }\n"])),function(e){return e.moreOption?"flex":"none"}),ci=g.a.div(Ro||(Ro=Object(m.a)(["\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n"])));var li,ui,si,fi,hi,di,mi,pi,vi,gi,yi,bi,wi,Ei,xi,Oi,ji,Li,_i=function(){return u.a.createElement(ki,null,u.a.createElement("span",null,"go on to other version to access this feature:"," ",u.a.createElement("a",{href:"https://social-by-azam-ali.onrender.com",target:"_blank"},"https://social-by-azam.onrender.com")),u.a.createElement("span",null,"Loading might take couple of minutes to load for the first time"))},ki=g.a.div(Xo||(Xo=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 10rem;\n  text-align: center;\n  span {\n    margin: auto;\n    font-weight: 500;\n  }\n"]))),Si=n(77);function Ni(){Ni=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Pi,Gi,Ci,Fi,Ti,Ii=function(){var e=Object(d.m)(),t=Object(d.o)().chatId,n=Object(l.useState)(null),r=Object(v.a)(n,2),a=r[0],o=r[1],i=Object(l.useState)(null),c=Object(v.a)(i,2),s=c[0],f=c[1],h=Object(l.useState)(null),m=Object(v.a)(h,2),g=m[0],b=m[1],w=Object(M.c)(function(e){return e.user}).user,E=Object(l.useState)(""),x=Object(v.a)(E,2),O=x[0],j=x[1],L=Object(l.useState)(null),_=Object(v.a)(L,2),k=_[0],S=_[1],N=Object(l.useRef)(),P=Object(l.useState)(!1),G=Object(v.a)(P,2),C=G[0],F=G[1],T=function(){var e=Object(p.a)(Ni().mark(function e(){return Ni().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/chats").then(function(e){return o(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(Ni().mark(function e(){return Ni().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/direct/".concat(t)).then(function(e){f(e.data.chat)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(Ni().mark(function e(){return Ni().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/direct/messages/".concat(t)).then(function(e){b(e.data.messages)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(Ni().mark(function e(){var n;return Ni().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,y.a.post("/api/v1/direct/".concat(t),{content:O}).then(function(e){j(""),z(),F(!1)});case 3:n=s.users.find(function(e){return e._id!==w._id}),N.current.emit("sendMessage",{sender:w,recieverId:n._id,content:O});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){T(),z(),I()},[t]),Object(l.useEffect)(function(){N.current=Object(Si.a)("https://social-by-azam-ali.onrender.com"),N.current.on("getMessage",function(e){S({sender:e.sender,content:e.content})})},[]),Object(l.useEffect)(function(){w&&N.current.emit("addUser",w._id)},[w]),Object(l.useEffect)(function(){k&&s&&s.users.find(function(e){return e._id===k.sender._id})&&b(function(e){return[].concat(Object(A.a)(e),[k])})},[k,s]),Object(l.useEffect)(function(){var e=document.getElementById("messagesBody");e&&(e.scrollTop=e.scrollHeight)},[g]),u.a.createElement(u.a.Fragment,null,window.innerWidth>769?u.a.createElement(u.a.Fragment,null,a&&s&&g&&u.a.createElement(zi,null,u.a.createElement(Ai,null,u.a.createElement(W,null)),u.a.createElement(Mi,null,u.a.createElement(Wi,null,u.a.createElement(Yi,null,u.a.createElement("span",null,w.username)),u.a.createElement("hr",null),u.a.createElement(Ri,null,a.map(function(t){return u.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==w._id)return u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name))}))}))),u.a.createElement(Di,null),u.a.createElement(Ui,null,u.a.createElement(qi,null,u.a.createElement(Hi,null,s.users.map(function(e){if(e._id!==w._id)return u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name))})),u.a.createElement("hr",null),u.a.createElement(Bi,{id:"messagesBody"},g&&g.map(function(e){return e.sender._id===w._id?u.a.createElement("div",{className:"sender"},u.a.createElement("span",null,e.content),u.a.createElement("img",{src:e.sender.avatar.url})):u.a.createElement("div",{className:"reciever"},u.a.createElement("img",{src:e.sender.avatar.url}),u.a.createElement("span",null,e.content))})),u.a.createElement(Ji,null,u.a.createElement("textarea",{cols:40,rows:1,placeholder:"Message...",value:O,onChange:function(e){return j(e.target.value)}}),u.a.createElement("button",{disabled:""===O||!!C,onClick:D},u.a.createElement("img",{src:"/blue-send.png"})))))))):u.a.createElement(u.a.Fragment,null,a&&s&&g&&u.a.createElement(Qi,null,u.a.createElement(Vi,null,u.a.createElement(Ki,null,u.a.createElement(Xi,null,u.a.createElement("i",{class:"fa-solid fa-chevron-left",onClick:function(){return e("/direct")}}),s.users.map(function(e){if(e._id!==w._id)return u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name))})),u.a.createElement("hr",null),u.a.createElement(Zi,{id:"messagesBody"},g&&g.map(function(e){return e.sender._id===w._id?u.a.createElement("div",{className:"sender"},u.a.createElement("span",null,e.content),u.a.createElement("img",{src:e.sender.avatar.url})):u.a.createElement("div",{className:"reciever"},u.a.createElement("img",{src:e.sender.avatar.url}),u.a.createElement("span",null,e.content))})),u.a.createElement($i,null,u.a.createElement("textarea",{cols:40,rows:1,placeholder:"Message...",value:O,onChange:function(e){return j(e.target.value)}}),u.a.createElement("button",{disabled:""===O||!!C,onClick:D},u.a.createElement("img",{src:"/blue-send.png"}))))))))},zi=g.a.div(li||(li=Object(m.a)(["\n  display: flex;\n"]))),Ai=g.a.div(ui||(ui=Object(m.a)(["\n  flex: 0.25;\n"]))),Mi=g.a.div(si||(si=Object(m.a)(["\n  flex: 0.65;\n  display: flex;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  width: 50rem;\n  height: 90vh;\n  margin-top: 3vh;\n"]))),Di=g.a.div(fi||(fi=Object(m.a)(["\n  border-left: 1px solid rgba(0, 0, 0, 0.2);\n  height: 100%;\n"]))),Wi=g.a.div(hi||(hi=Object(m.a)(["\n  flex: 0.35;\n"]))),Yi=g.a.div(di||(di=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n"]))),Ri=g.a.div(mi||(mi=Object(m.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),Ui=g.a.div(pi||(pi=Object(m.a)(["\n  flex: 0.65;\n  display: flex;\n"]))),qi=g.a.div(vi||(vi=Object(m.a)(["\n  width: 100%;\n  position: relative;\n"]))),Hi=g.a.div(gi||(gi=Object(m.a)(["\n  display: flex;\n  padding: 0.8rem 1rem;\n  font-weight: 500;\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin-right: 1rem;\n  }\n"]))),Bi=g.a.div(yi||(yi=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  overflow-y: scroll;\n  height: 80%;\n  div {\n    margin: 0.5rem 0;\n  }\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin: 0 0.5rem;\n  }\n  span {\n    padding: 0.5rem 1rem;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 1.5rem;\n    word-wrap: break-word;\n    display: inline-flex;\n  }\n  .sender {\n    align-self: flex-end;\n    display: flex;\n    span {\n      background-color: #e0e0e0;\n      border: none;\n    }\n  }\n  .reciever {\n    display: flex;\n    align-self: flex-start;\n  }\n"]))),Ji=g.a.div(bi||(bi=Object(m.a)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  padding: 1rem;\n  width: 100%;\n  align-items: center;\n  textarea {\n    width: 100%;\n    resize: none;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 2rem;\n    padding: 0.5rem 1rem;\n    outline: none;\n  }\n  img {\n    margin-left: 1rem;\n    width: 2rem;\n    height: 2rem;\n    cursor: pointer;\n  }\n  button {\n    border: none;\n    background: transparent;\n  }\n"]))),Qi=g.a.div(wi||(wi=Object(m.a)(["\n  display: flex;\n  height: 90vh;\n"]))),Vi=g.a.div(Ei||(Ei=Object(m.a)(["\n  display: flex;\n  width: 100%;\n"]))),Ki=g.a.div(xi||(xi=Object(m.a)(["\n  width: 100%;\n  position: relative;\n  height: 100%;\n"]))),Xi=g.a.div(Oi||(Oi=Object(m.a)(["\n  display: flex;\n  padding: 0.8rem 1rem;\n  font-weight: 500;\n  position: relative;\n  align-items: center;\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin-right: 1rem;\n  }\n  i {\n    font-size: 1.5rem;\n    margin-right: 1rem;\n  }\n"]))),Zi=g.a.div(ji||(ji=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  overflow-y: scroll;\n  height: 80%;\n  margin-bottom: 0.5rem;\n  div {\n    margin: 0.5rem 0;\n  }\n  img {\n    width: 2rem;\n    height: 2rem;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 50%;\n    margin: 0 0.5rem;\n  }\n  span {\n    word-wrap: break-word;\n    display: inline-flex;\n    padding: 0.5rem 1rem;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 1.5rem;\n  }\n  .sender {\n    align-self: flex-end;\n    display: flex;\n    span {\n      background-color: #e0e0e0;\n      border: none;\n    }\n  }\n  .reciever {\n    display: flex;\n    align-self: flex-start;\n  }\n"]))),$i=g.a.div(Li||(Li=Object(m.a)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  padding: 1rem;\n  width: 100%;\n  align-items: center;\n  textarea {\n    width: 100%;\n    resize: none;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 2rem;\n    padding: 0.5rem 1rem;\n    outline: none;\n  }\n  img {\n    margin-left: 1rem;\n    width: 2rem;\n    height: 2rem;\n    cursor: pointer;\n  }\n  button {\n    border: none;\n    background: transparent;\n  }\n"])));function ec(){ec=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function m(){}var p={};l(p,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,o)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var tc=function(){var e=Object(d.m)(),t=Object(l.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1],o=Object(M.c)(function(e){return e.user}).user,i=function(){var e=Object(p.a)(ec().mark(function e(){return ec().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/chats").then(function(e){return a(e.data.chats)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(function(){i()},[]),u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(nc,null,u.a.createElement(rc,null,u.a.createElement(ac,null,u.a.createElement("i",{class:"fa-solid fa-chevron-left",onClick:function(){return e("/home")}}),u.a.createElement("span",null,o.username)),u.a.createElement("hr",null),r&&r.length>0?u.a.createElement(oc,null,r.map(function(t){if(t.messagesCount>0)return u.a.createElement("div",{style:{cursor:"pointer",margin:"1rem 0"},onClick:function(){return e("/direct/".concat(t._id))}},t.users.map(function(e){if(e._id!==o._id)return u.a.createElement("div",null,u.a.createElement("img",{src:e.avatar.url}),u.a.createElement("span",null,e.name))}))})):u.a.createElement(ic,null," ",u.a.createElement("img",{src:"/send.png"}),u.a.createElement("span",{style:{fontSize:"1.4rem"}},"Your Messages"),u.a.createElement("span",null,"Send private photos and messages to a friend.")))))},nc=g.a.div(Pi||(Pi=Object(m.a)(["\n  display: flex;\n"]))),rc=g.a.div(Gi||(Gi=Object(m.a)(["\n  width: 100%;\n"]))),ac=g.a.div(Ci||(Ci=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  padding: 1rem 0;\n  position: relative;\n  i {\n    position: absolute;\n    left: 1rem;\n    top: 1rem;\n    font-size: 1.5rem;\n  }\n"]))),oc=g.a.div(Fi||(Fi=Object(m.a)(["\n  padding: 1rem;\n  div {\n    display: flex;\n    align-items: center;\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n    }\n  }\n"]))),ic=g.a.div(Ti||(Ti=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 5vh auto;\n  text-align: center;\n  width: 95%;\n\n  img {\n    width: 3rem;\n    height: 3rem;\n    margin-bottom: 1rem;\n  }\n"])));var cc=function(){return It.a.get("token")&&Ft.dispatch(Rt()),u.a.createElement(w.b,{clientId:"".concat("798293762196-5iqijoh3tcaeen4efmv2q72c5cq4gaab.apps.googleusercontent.com")},u.a.createElement(h.a,null,u.a.createElement("div",{className:"App"},window.innerWidth>769&&u.a.createElement(Qr,null),window.innerWidth>769&&u.a.createElement(pa,null),window.innerWidth>769&&u.a.createElement(ka,null),u.a.createElement(d.d,null,u.a.createElement(d.b,{path:"/",element:u.a.createElement(Kt,null,u.a.createElement(G,null))}),u.a.createElement(d.b,{path:"/register",element:u.a.createElement(en,null,u.a.createElement(qt,null))}),u.a.createElement(d.b,{path:"/p/:postId",element:window.innerWidth>769?u.a.createElement(jr,null):u.a.createElement(Zo,null)}),u.a.createElement(d.b,{path:"/home",element:u.a.createElement(_t,null,u.a.createElement(yt,null))}),u.a.createElement(d.b,{path:"/direct",element:u.a.createElement(_t,null,window.innerWidth>769?u.a.createElement(ta,null):u.a.createElement(tc,null))}),u.a.createElement(d.b,{path:"/direct/:chatId",element:u.a.createElement(_t,null,u.a.createElement(Ii,null))}),u.a.createElement(d.b,{path:"/:username",element:u.a.createElement(u.a.Fragment,null,window.innerWidth>769?u.a.createElement(In,null):u.a.createElement(Eo,null))}),u.a.createElement(d.b,{path:"/p/:postId/comments",element:u.a.createElement(_t,null,window.innerWidth<769?u.a.createElement(Aa,null):u.a.createElement(jr,null))}),u.a.createElement(d.b,{path:"/notifications",element:u.a.createElement(_t,null,u.a.createElement(Ba,null))}),u.a.createElement(d.b,{path:"/search",element:u.a.createElement(_t,null,u.a.createElement(uo,null))}),u.a.createElement(d.b,{path:"/accounts/edit",element:u.a.createElement(_t,null,u.a.createElement(Uo,null))}),u.a.createElement(d.b,{path:"/notfound",element:u.a.createElement(_i,null)})))))},lc=n(54),uc=n(76),sc={timeout:5e3,position:lc.b.BOTTOM_CENTER,transition:lc.c.SCALE};f.a.createRoot(document.getElementById("root")).render(u.a.createElement(M.a,{store:Ft},u.a.createElement(lc.a,Object.assign({template:uc.a},sc),u.a.createElement(cc,null))))}},[[78,2,1]]]);
//# sourceMappingURL=main.7515fb06.chunk.js.map